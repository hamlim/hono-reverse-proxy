#!/usr/bin/env bun
// @bun
var KZ=Object.create;var{defineProperty:W4,getPrototypeOf:FZ,getOwnPropertyNames:BZ}=Object;var XZ=Object.prototype.hasOwnProperty;var YZ=(Q,Z,J)=>{J=Q!=null?KZ(FZ(Q)):{};const z=Z||!Q||!Q.__esModule?W4(J,"default",{value:Q,enumerable:!0}):J;for(let W of BZ(Q))if(!XZ.call(z,W))W4(z,W,{get:()=>Q[W],enumerable:!0});return z};var $=(Q,Z)=>()=>(Z||Q((Z={exports:{}}).exports,Z),Z.exports);var v=((Q)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(Q,{get:(Z,J)=>(typeof require!=="undefined"?require:Z)[J]}):Q)(function(Q){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+Q+'" is not supported')});var B4=$((K4)=>{Object.defineProperty(K4,"__esModule",{value:!0});K4.boolean=void 0;var $Z=function(Q){switch(Object.prototype.toString.call(Q)){case"[object String]":return["true","t","yes","y","on","1"].includes(Q.trim().toLowerCase());case"[object Number]":return Q.valueOf()===1;case"[object Boolean]":return Q.valueOf();default:return!1}};K4.boolean=$Z});var $4=$((X4)=>{Object.defineProperty(X4,"__esModule",{value:!0});X4.isBooleanable=void 0;var HZ=function(Q){switch(Object.prototype.toString.call(Q)){case"[object String]":return["true","t","yes","y","on","1","false","f","no","n","off","0"].includes(Q.trim().toLowerCase());case"[object Number]":return[0,1].includes(Q.valueOf());case"[object Boolean]":return!0;default:return!1}};X4.isBooleanable=HZ});var w0=$((C0)=>{Object.defineProperty(C0,"__esModule",{value:!0});C0.isBooleanable=C0.boolean=void 0;var VZ=B4();Object.defineProperty(C0,"boolean",{enumerable:!0,get:function(){return VZ.boolean}});var GZ=$4();Object.defineProperty(C0,"isBooleanable",{enumerable:!0,get:function(){return GZ.isBooleanable}})});var S0=$((X3,H4)=>{H4.exports=!1});var z1=$((Y3,G4)=>{var V4=Object.prototype.toString;G4.exports=function Q(Z){var J=V4.call(Z),z=J==="[object Arguments]";if(!z)z=J!=="[object Array]"&&Z!==null&&typeof Z==="object"&&typeof Z.length==="number"&&Z.length>=0&&V4.call(Z.callee)==="[object Function]";return z}});var R4=$(($3,P4)=>{var L4;if(!Object.keys)F0=Object.prototype.hasOwnProperty,W1=Object.prototype.toString,U4=z1(),K1=Object.prototype.propertyIsEnumerable,O4=!K1.call({toString:null},"toString"),I4=K1.call(function(){},"prototype"),B0=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],x0=function(Q){var Z=Q.constructor;return Z&&Z.prototype===Q},q4={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},N4=function(){if(typeof window==="undefined")return!1;for(var Q in window)try{if(!q4["$"+Q]&&F0.call(window,Q)&&window[Q]!==null&&typeof window[Q]==="object")try{x0(window[Q])}catch(Z){return!0}}catch(Z){return!0}return!1}(),D4=function(Q){if(typeof window==="undefined"||!N4)return x0(Q);try{return x0(Q)}catch(Z){return!1}},L4=function Q(Z){var J=Z!==null&&typeof Z==="object",z=W1.call(Z)==="[object Function]",W=U4(Z),K=J&&W1.call(Z)==="[object String]",F=[];if(!J&&!z&&!W)throw new TypeError("Object.keys called on a non-object");var X=I4&&z;if(K&&Z.length>0&&!F0.call(Z,0))for(var Y=0;Y<Z.length;++Y)F.push(String(Y));if(W&&Z.length>0)for(var V=0;V<Z.length;++V)F.push(String(V));else for(var B in Z)if(!(X&&B==="prototype")&&F0.call(Z,B))F.push(String(B));if(O4){var I=D4(Z);for(var O=0;O<B0.length;++O)if(!(I&&B0[O]==="constructor")&&F0.call(Z,B0[O]))F.push(B0[O])}return F};var F0,W1,U4,K1,O4,I4,B0,x0,q4,N4,D4;P4.exports=L4});var E4=$((H3,M4)=>{var OZ=Array.prototype.slice,IZ=z1(),A4=Object.keys,j0=A4?function Q(Z){return A4(Z)}:R4(),T4=Object.keys;j0.shim=function Q(){if(Object.keys){var Z=function(){var J=Object.keys(arguments);return J&&J.length===arguments.length}(1,2);if(!Z)Object.keys=function J(z){if(IZ(z))return T4(OZ.call(z));return T4(z)}}else Object.keys=j0;return Object.keys||j0};M4.exports=j0});var w4=$((V3,C4)=>{C4.exports=Error});var x4=$((G3,S4)=>{S4.exports=EvalError});var y4=$((U3,j4)=>{j4.exports=RangeError});var v4=$((O3,_4)=>{_4.exports=ReferenceError});var F1=$((I3,h4)=>{h4.exports=SyntaxError});var B1=$((q3,k4)=>{k4.exports=TypeError});var d4=$((N3,b4)=>{b4.exports=URIError});var u4=$((D3,f4)=>{f4.exports=function Q(){if(typeof Symbol!=="function"||typeof Object.getOwnPropertySymbols!=="function")return!1;if(typeof Symbol.iterator==="symbol")return!0;var Z={},J=Symbol("test"),z=Object(J);if(typeof J==="string")return!1;if(Object.prototype.toString.call(J)!=="[object Symbol]")return!1;if(Object.prototype.toString.call(z)!=="[object Symbol]")return!1;var W=42;Z[J]=W;for(J in Z)return!1;if(typeof Object.keys==="function"&&Object.keys(Z).length!==0)return!1;if(typeof Object.getOwnPropertyNames==="function"&&Object.getOwnPropertyNames(Z).length!==0)return!1;var K=Object.getOwnPropertySymbols(Z);if(K.length!==1||K[0]!==J)return!1;if(!Object.prototype.propertyIsEnumerable.call(Z,J))return!1;if(typeof Object.getOwnPropertyDescriptor==="function"){var F=Object.getOwnPropertyDescriptor(Z,J);if(F.value!==W||F.enumerable!==!0)return!1}return!0}});var c4=$((L3,m4)=>{var g4=typeof Symbol!=="undefined"&&Symbol,qZ=u4();m4.exports=function Q(){if(typeof g4!=="function")return!1;if(typeof Symbol!=="function")return!1;if(typeof g4("foo")!=="symbol")return!1;if(typeof Symbol("bar")!=="symbol")return!1;return qZ()}});var i4=$((P3,l4)=>{var p4={foo:{}},NZ=Object;l4.exports=function Q(){return{__proto__:p4}.foo===p4.foo&&!({__proto__:null}instanceof NZ)}});var a4=$((R3,s4)=>{var DZ="Function.prototype.bind called on incompatible ",LZ=Object.prototype.toString,PZ=Math.max,RZ="[object Function]",n4=function Q(Z,J){var z=[];for(var W=0;W<Z.length;W+=1)z[W]=Z[W];for(var K=0;K<J.length;K+=1)z[K+Z.length]=J[K];return z},AZ=function Q(Z,J){var z=[];for(var W=J||0,K=0;W<Z.length;W+=1,K+=1)z[K]=Z[W];return z},TZ=function(Q,Z){var J="";for(var z=0;z<Q.length;z+=1)if(J+=Q[z],z+1<Q.length)J+=Z;return J};s4.exports=function Q(Z){var J=this;if(typeof J!=="function"||LZ.apply(J)!==RZ)throw new TypeError(DZ+J);var z=AZ(arguments,1),W,K=function(){if(this instanceof W){var B=J.apply(this,n4(z,arguments));if(Object(B)===B)return B;return this}return J.apply(Z,n4(z,arguments))},F=PZ(0,J.length-z.length),X=[];for(var Y=0;Y<F;Y++)X[Y]="$"+Y;if(W=Function("binder","return function ("+TZ(X,",")+"){ return binder.apply(this,arguments); }")(K),J.prototype){var V=function B(){};V.prototype=J.prototype,W.prototype=new V,V.prototype=null}return W}});var X1=$((A3,t4)=>{var MZ=a4();t4.exports=Function.prototype.bind||MZ});var o4=$((T3,r4)=>{var EZ=Function.prototype.call,CZ=Object.prototype.hasOwnProperty,wZ=X1();r4.exports=wZ.call(EZ,CZ)});var v0=$((M3,z5)=>{var D,SZ=w4(),xZ=x4(),jZ=y4(),yZ=v4(),r=F1(),t=B1(),_Z=d4(),J5=Function,Y1=function(Q){try{return J5('"use strict"; return ('+Q+").constructor;")()}catch(Z){}},g=Object.getOwnPropertyDescriptor;if(g)try{g({},"")}catch(Q){g=null}var $1=function(){throw new t},vZ=g?function(){try{return arguments.callee,$1}catch(Q){try{return g(arguments,"callee").get}catch(Z){return $1}}}():$1,s=c4()(),hZ=i4()(),R=Object.getPrototypeOf||(hZ?function(Q){return Q.__proto__}:null),a={},kZ=typeof Uint8Array==="undefined"||!R?D:R(Uint8Array),m={__proto__:null,"%AggregateError%":typeof AggregateError==="undefined"?D:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer==="undefined"?D:ArrayBuffer,"%ArrayIteratorPrototype%":s&&R?R([][Symbol.iterator]()):D,"%AsyncFromSyncIteratorPrototype%":D,"%AsyncFunction%":a,"%AsyncGenerator%":a,"%AsyncGeneratorFunction%":a,"%AsyncIteratorPrototype%":a,"%Atomics%":typeof Atomics==="undefined"?D:Atomics,"%BigInt%":typeof BigInt==="undefined"?D:BigInt,"%BigInt64Array%":typeof BigInt64Array==="undefined"?D:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array==="undefined"?D:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView==="undefined"?D:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":SZ,"%eval%":eval,"%EvalError%":xZ,"%Float32Array%":typeof Float32Array==="undefined"?D:Float32Array,"%Float64Array%":typeof Float64Array==="undefined"?D:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry==="undefined"?D:FinalizationRegistry,"%Function%":J5,"%GeneratorFunction%":a,"%Int8Array%":typeof Int8Array==="undefined"?D:Int8Array,"%Int16Array%":typeof Int16Array==="undefined"?D:Int16Array,"%Int32Array%":typeof Int32Array==="undefined"?D:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s&&R?R(R([][Symbol.iterator]())):D,"%JSON%":typeof JSON==="object"?JSON:D,"%Map%":typeof Map==="undefined"?D:Map,"%MapIteratorPrototype%":typeof Map==="undefined"||!s||!R?D:R((new Map())[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise==="undefined"?D:Promise,"%Proxy%":typeof Proxy==="undefined"?D:Proxy,"%RangeError%":jZ,"%ReferenceError%":yZ,"%Reflect%":typeof Reflect==="undefined"?D:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set==="undefined"?D:Set,"%SetIteratorPrototype%":typeof Set==="undefined"||!s||!R?D:R((new Set())[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer==="undefined"?D:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":s&&R?R(""[Symbol.iterator]()):D,"%Symbol%":s?Symbol:D,"%SyntaxError%":r,"%ThrowTypeError%":vZ,"%TypedArray%":kZ,"%TypeError%":t,"%Uint8Array%":typeof Uint8Array==="undefined"?D:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray==="undefined"?D:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array==="undefined"?D:Uint16Array,"%Uint32Array%":typeof Uint32Array==="undefined"?D:Uint32Array,"%URIError%":_Z,"%WeakMap%":typeof WeakMap==="undefined"?D:WeakMap,"%WeakRef%":typeof WeakRef==="undefined"?D:WeakRef,"%WeakSet%":typeof WeakSet==="undefined"?D:WeakSet};if(R)try{null.error}catch(Q){e4=R(R(Q)),m["%Error.prototype%"]=e4}var e4,bZ=function Q(Z){var J;if(Z==="%AsyncFunction%")J=Y1("async function () {}");else if(Z==="%GeneratorFunction%")J=Y1("function* () {}");else if(Z==="%AsyncGeneratorFunction%")J=Y1("async function* () {}");else if(Z==="%AsyncGenerator%"){var z=Q("%AsyncGeneratorFunction%");if(z)J=z.prototype}else if(Z==="%AsyncIteratorPrototype%"){var W=Q("%AsyncGenerator%");if(W&&R)J=R(W.prototype)}return m[Z]=J,J},Q5={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},X0=X1(),y0=o4(),dZ=X0.call(Function.call,Array.prototype.concat),fZ=X0.call(Function.apply,Array.prototype.splice),Z5=X0.call(Function.call,String.prototype.replace),_0=X0.call(Function.call,String.prototype.slice),uZ=X0.call(Function.call,RegExp.prototype.exec),gZ=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,mZ=/\\(\\)?/g,cZ=function Q(Z){var J=_0(Z,0,1),z=_0(Z,-1);if(J==="%"&&z!=="%")throw new r("invalid intrinsic syntax, expected closing `%`");else if(z==="%"&&J!=="%")throw new r("invalid intrinsic syntax, expected opening `%`");var W=[];return Z5(Z,gZ,function(K,F,X,Y){W[W.length]=X?Z5(Y,mZ,"$1"):F||K}),W},pZ=function Q(Z,J){var z=Z,W;if(y0(Q5,z))W=Q5[z],z="%"+W[0]+"%";if(y0(m,z)){var K=m[z];if(K===a)K=bZ(z);if(typeof K==="undefined"&&!J)throw new t("intrinsic "+Z+" exists, but is not available. Please file an issue!");return{alias:W,name:z,value:K}}throw new r("intrinsic "+Z+" does not exist!")};z5.exports=function Q(Z,J){if(typeof Z!=="string"||Z.length===0)throw new t("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof J!=="boolean")throw new t('"allowMissing" argument must be a boolean');if(uZ(/^%?[^%]*%?$/,Z)===null)throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var z=cZ(Z),W=z.length>0?z[0]:"",K=pZ("%"+W+"%",J),F=K.name,X=K.value,Y=!1,V=K.alias;if(V)W=V[0],fZ(z,dZ([0,1],V));for(var B=1,I=!0;B<z.length;B+=1){var O=z[B],H=_0(O,0,1),q=_0(O,-1);if((H==='"'||H==="'"||H==="`"||(q==='"'||q==="'"||q==="`"))&&H!==q)throw new r("property names with quotes must have matching quotes");if(O==="constructor"||!I)Y=!0;if(W+="."+O,F="%"+W+"%",y0(m,F))X=m[F];else if(X!=null){if(!(O in X)){if(!J)throw new t("base intrinsic for "+Z+" exists, but the property is not available.");return}if(g&&B+1>=z.length){var S=g(X,O);if(I=!!S,I&&"get"in S&&!("originalValue"in S.get))X=S.get;else X=X[O]}else I=y0(X,O),X=X[O];if(I&&!Y)m[F]=X}}return X}});var G1=$((E3,W5)=>{var lZ=v0(),H1=lZ("%Object.defineProperty%",!0),V1=function Q(){if(H1)try{return H1({},"a",{value:1}),!0}catch(Z){return!1}return!1};V1.hasArrayLengthDefineBug=function Q(){if(!V1())return null;try{return H1([],"length",{value:1}).length!==1}catch(Z){return!0}};W5.exports=V1});var F5=$((C3,K5)=>{var iZ=v0(),h0=iZ("%Object.getOwnPropertyDescriptor%",!0);if(h0)try{h0([],"length")}catch(Q){h0=null}K5.exports=h0});var Y5=$((w3,X5)=>{var nZ=G1()(),sZ=v0(),Y0=nZ&&sZ("%Object.defineProperty%",!0);if(Y0)try{Y0({},"a",{value:1})}catch(Q){Y0=!1}var aZ=F1(),o=B1(),B5=F5();X5.exports=function Q(Z,J,z){if(!Z||typeof Z!=="object"&&typeof Z!=="function")throw new o("`obj` must be an object or a function`");if(typeof J!=="string"&&typeof J!=="symbol")throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!=="boolean"&&arguments[3]!==null)throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!=="boolean"&&arguments[4]!==null)throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!=="boolean"&&arguments[5]!==null)throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!=="boolean")throw new o("`loose`, if provided, must be a boolean");var W=arguments.length>3?arguments[3]:null,K=arguments.length>4?arguments[4]:null,F=arguments.length>5?arguments[5]:null,X=arguments.length>6?arguments[6]:!1,Y=!!B5&&B5(Z,J);if(Y0)Y0(Z,J,{configurable:F===null&&Y?Y.configurable:!F,enumerable:W===null&&Y?Y.enumerable:!W,value:z,writable:K===null&&Y?Y.writable:!K});else if(X||!W&&!K&&!F)Z[J]=z;else throw new aZ("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var U1=$((S3,G5)=>{var tZ=E4(),rZ=typeof Symbol==="function"&&typeof Symbol("foo")==="symbol",oZ=Object.prototype.toString,eZ=Array.prototype.concat,$5=Y5(),Q7=function(Q){return typeof Q==="function"&&oZ.call(Q)==="[object Function]"},H5=G1()(),Z7=function(Q,Z,J,z){if(Z in Q){if(z===!0){if(Q[Z]===J)return}else if(!Q7(z)||!z())return}if(H5)$5(Q,Z,J,!0);else $5(Q,Z,J)},V5=function(Q,Z){var J=arguments.length>2?arguments[2]:{},z=tZ(Z);if(rZ)z=eZ.call(z,Object.getOwnPropertySymbols(Z));for(var W=0;W<z.length;W+=1)Z7(Q,z[W],Z[z[W]],J[z[W]])};V5.supportsDescriptors=!!H5;G5.exports=V5});var O1=$((x3,k0)=>{if(typeof self!=="undefined")k0.exports=self;else if(typeof window!=="undefined")k0.exports=window;else k0.exports=Function("return this")()});var I1=$((j3,U5)=>{var J7=O1();U5.exports=function Q(){if(typeof global!=="object"||!global||global.Math!==Math||global.Array!==Array)return J7;return global}});var I5=$((y3,O5)=>{var z7=U1(),W7=I1();O5.exports=function Q(){var Z=W7();if(z7.supportsDescriptors){var J=Object.getOwnPropertyDescriptor(Z,"globalThis");if(!J||J.configurable&&(J.enumerable||!J.writable||globalThis!==Z))Object.defineProperty(Z,"globalThis",{configurable:!0,enumerable:!1,value:Z,writable:!0})}else if(typeof globalThis!=="object"||globalThis!==Z)Z.globalThis=Z;return Z}});var q1=$((_3,D5)=>{var K7=U1(),F7=O1(),q5=I1(),B7=I5(),X7=q5(),N5=function(){return X7};K7(N5,{getPolyfill:q5,implementation:F7,shim:B7});D5.exports=N5});var R5=$((N1,P5)=>{var Y7=function(Q,Z,J,z){return JSON.stringify(Q,L5(Z,z),J)},L5=function(Q,Z){var J=[],z=[];if(Z==null)Z=function(W,K){if(J[0]===K)return"[Circular ~]";return"[Circular ~."+z.slice(0,J.indexOf(K)).join(".")+"]"};return function(W,K){if(J.length>0){var F=J.indexOf(this);if(~F?J.splice(F+1):J.push(this),~F?z.splice(F,Infinity,W):z.push(W),~J.indexOf(K))K=Z.call(this,W,K)}else J.push(K);return Q==null?K:Q.call(this,W,K)}};N1=P5.exports=Y7;N1.getSerialize=L5});var T5=$((A5)=>{(function(){var Q={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function Z(F){return z(K(F),arguments)}function J(F,X){return Z.apply(null,[F].concat(X||[]))}function z(F,X){var Y=1,V=F.length,B,I="",O,H,q,S,f,n,E0,u;for(O=0;O<V;O++)if(typeof F[O]==="string")I+=F[O];else if(typeof F[O]==="object"){if(q=F[O],q.keys){B=X[Y];for(H=0;H<q.keys.length;H++){if(B==null)throw new Error(Z('[sprintf] Cannot access property "%s" of undefined value "%s"',q.keys[H],q.keys[H-1]));B=B[q.keys[H]]}}else if(q.param_no)B=X[q.param_no];else B=X[Y++];if(Q.not_type.test(q.type)&&Q.not_primitive.test(q.type)&&B instanceof Function)B=B();if(Q.numeric_arg.test(q.type)&&(typeof B!=="number"&&isNaN(B)))throw new TypeError(Z("[sprintf] expecting number but found %T",B));if(Q.number.test(q.type))E0=B>=0;switch(q.type){case"b":B=parseInt(B,10).toString(2);break;case"c":B=String.fromCharCode(parseInt(B,10));break;case"d":case"i":B=parseInt(B,10);break;case"j":B=JSON.stringify(B,null,q.width?parseInt(q.width):0);break;case"e":B=q.precision?parseFloat(B).toExponential(q.precision):parseFloat(B).toExponential();break;case"f":B=q.precision?parseFloat(B).toFixed(q.precision):parseFloat(B);break;case"g":B=q.precision?String(Number(B.toPrecision(q.precision))):parseFloat(B);break;case"o":B=(parseInt(B,10)>>>0).toString(8);break;case"s":B=String(B),B=q.precision?B.substring(0,q.precision):B;break;case"t":B=String(!!B),B=q.precision?B.substring(0,q.precision):B;break;case"T":B=Object.prototype.toString.call(B).slice(8,-1).toLowerCase(),B=q.precision?B.substring(0,q.precision):B;break;case"u":B=parseInt(B,10)>>>0;break;case"v":B=B.valueOf(),B=q.precision?B.substring(0,q.precision):B;break;case"x":B=(parseInt(B,10)>>>0).toString(16);break;case"X":B=(parseInt(B,10)>>>0).toString(16).toUpperCase();break}if(Q.json.test(q.type))I+=B;else{if(Q.number.test(q.type)&&(!E0||q.sign))u=E0?"+":"-",B=B.toString().replace(Q.sign,"");else u="";f=q.pad_char?q.pad_char==="0"?"0":q.pad_char.charAt(1):" ",n=q.width-(u+B).length,S=q.width?n>0?f.repeat(n):"":"",I+=q.align?u+B+S:f==="0"?u+S+B:S+u+B}}return I}var W=Object.create(null);function K(F){if(W[F])return W[F];var X=F,Y,V=[],B=0;while(X){if((Y=Q.text.exec(X))!==null)V.push(Y[0]);else if((Y=Q.modulo.exec(X))!==null)V.push("%");else if((Y=Q.placeholder.exec(X))!==null){if(Y[2]){B|=1;var I=[],O=Y[2],H=[];if((H=Q.key.exec(O))!==null){I.push(H[1]);while((O=O.substring(H[0].length))!=="")if((H=Q.key_access.exec(O))!==null)I.push(H[1]);else if((H=Q.index_access.exec(O))!==null)I.push(H[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key")}else throw new SyntaxError("[sprintf] failed to parse named argument key");Y[2]=I}else B|=2;if(B===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");V.push({placeholder:Y[0],param_no:Y[1],keys:Y[2],sign:Y[3],pad_char:Y[4],align:Y[5],width:Y[6],precision:Y[7],type:Y[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");X=X.substring(Y[0].length)}return W[F]=V}if(typeof A5!=="undefined")A5.sprintf=Z,A5.vsprintf=J;if(typeof window!=="undefined"){if(window.sprintf=Z,window.vsprintf=J,typeof define==="function"&&define.amd)define(function(){return{sprintf:Z,vsprintf:J}})}})()});var D1=$((M5)=>{Object.defineProperty(M5,"__esModule",{value:!0});M5.logLevels=void 0;var $7={debug:20,error:50,fatal:60,info:30,trace:10,warn:40};M5.logLevels=$7});var j5=$((S5)=>{var A1=function(Q){return Q&&Q.__esModule?Q:{default:Q}},P1=function(){return P1=Object.assign||function(Q){for(var Z=1;Z<arguments.length;Z++){var J=arguments[Z];for(var z in J)if(Object.prototype.hasOwnProperty.call(J,z))Q[z]=J[z]}return Q},P1.apply(this,arguments)},w5=function(Q,Z){var J=Object.keys(Q);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(Q);if(Z)z=z.filter(function(W){return Object.getOwnPropertyDescriptor(Q,W).enumerable});J.push.apply(J,z)}return J},C=function(Q){for(var Z=1;Z<arguments.length;Z++){var J=arguments[Z]!=null?arguments[Z]:{};if(Z%2)w5(Object(J),!0).forEach(function(z){U7(Q,z,J[z])});else if(Object.getOwnPropertyDescriptors)Object.defineProperties(Q,Object.getOwnPropertyDescriptors(J));else w5(Object(J)).forEach(function(z){Object.defineProperty(Q,z,Object.getOwnPropertyDescriptor(J,z))})}return Q},U7=function(Q,Z,J){if(Z in Q)Object.defineProperty(Q,Z,{value:J,enumerable:!0,configurable:!0,writable:!0});else Q[Z]=J;return Q};Object.defineProperty(S5,"__esModule",{value:!0});S5.default=void 0;var H7=A1(S0()),V7=A1(q1()),G7=A1(R5()),L1=T5(),C5=D1(),O7=V7.default(),$0;if(H7.default)$0=import.meta.require("domain");var I7=()=>{if(!$0)return{};const Q=[];let Z=process.domain;if(!Z||!Z.parentDomain)return{};while(Z&&Z.parentDomain)if(Z=Z.parentDomain,Z.roarr&&Z.roarr.context)Q.push(Z.roarr.context);let J={};for(let z of Q)J=C(C({},J),z);return J},b0=()=>{if(!$0)return{};let Q=process.domain;if(Q&&Q.roarr&&Q.roarr.context)return Q.roarr.context;if(!Q||!Q.parentDomain)return{};while(Q&&Q.parentDomain)if(Q=Q.parentDomain,Q.roarr&&Q.roarr.context)return Q.roarr.context;return{}},R1=(Q,Z)=>{const J=(z,W,K,F,X,Y,V,B,I,O)=>{const H=Date.now(),q=O7.ROARR.sequence++;let S,f;if(typeof z==="string"){S=C(C({},b0()),Z||{});const n=P1({},{a:z,b:W,c:K,d:F,e:X,f:Y,g:V,h:B,i:I,k:O});f=Object.keys(n).map((J1)=>{return n[J1]}).reduce((J1,WZ)=>{return J1+=typeof WZ==="undefined"?0:1},0)===1?L1.sprintf("%s",z):L1.sprintf(z,W,K,F,X,Y,V,B,I,O)}else{if(typeof W!=="string")throw new TypeError("Message must be a string.");S=JSON.parse(G7.default(C(C(C({},b0()),Z||{}),z))),f=L1.sprintf(W,K,F,X,Y,V,B,I,O)}Q({context:S,message:f,sequence:q,time:H,version:"1.0.0"})};J.child=(z)=>{if(typeof z==="function")return R1((W)=>{if(typeof z!=="function")throw new TypeError("Unexpected state.");Q(z(W))},Z);return R1(Q,C(C(C({},b0()),Z),z))},J.getContext=()=>{return C(C({},b0()),Z||{})},J.adopt=async(z,W)=>{if(!$0)return z();const K=$0.create();return K.run(()=>{return K.roarr={context:C(C({},I7()),W)},z()})};for(let z of Object.keys(C5.logLevels))J[z]=(W,K,F,X,Y,V,B,I,O,H)=>{return J.child({logLevel:C5.logLevels[z]})(W,K,F,X,Y,V,B,I,O,H)};return J},q7=R1;S5.default=q7});var k5=$((v5)=>{Object.defineProperty(v5,"__esModule",{value:!0});v5.default=void 0;var y5=D1(),_5=(Q,Z)=>{const J=(z,W,K,F,X,Y,V,B,I,O)=>{};J.adopt=async(z)=>{return z()},J.child=(z)=>{return _5(Q,Z)},J.getContext=()=>{return{}};for(let z of Object.keys(y5.logLevels))J[z]=(W,K,F,X,Y,V,B,I,O,H)=>{return J.child({logLevel:y5.logLevels[z]})(W,K,F,X,Y,V,B,I,O,H)};return J},N7=_5;v5.default=N7});var d5=$((u3,b5)=>{b5.exports=function Q(Z,J){var z=Z.split("."),W=J.split(".");for(var K=0;K<3;K++){var F=Number(z[K]),X=Number(W[K]);if(F>X)return 1;if(X>F)return-1;if(!isNaN(F)&&isNaN(X))return 1;if(isNaN(F)&&!isNaN(X))return-1}return 0}});var f5=$((g3,D7)=>{D7.exports={author:{email:"gajus@gajus.com",name:"Gajus Kuizinas",url:"http://gajus.com"},ava:{babel:{compileAsTests:["test/helpers/**/*"]},files:["test/roarr/**/*"],require:["@babel/register"]},dependencies:{boolean:"^3.0.1","detect-node":"^2.0.4",globalthis:"^1.0.1","json-stringify-safe":"^5.0.1","semver-compare":"^1.0.0","sprintf-js":"^1.1.2"},description:"JSON logger for Node.js and browser.",devDependencies:{"@ava/babel":"^1.0.1","@babel/cli":"^7.11.6","@babel/core":"^7.11.6","@babel/node":"^7.10.5","@babel/plugin-transform-flow-strip-types":"^7.10.4","@babel/preset-env":"^7.11.5","@babel/register":"^7.11.5",ava:"^3.12.1","babel-plugin-istanbul":"^6.0.0","babel-plugin-transform-export-default-name":"^2.0.4",coveralls:"^3.1.0","domain-parent":"^1.0.0",eslint:"^7.9.0","eslint-config-canonical":"^24.1.1","flow-bin":"^0.133.0","flow-copy-source":"^2.0.9",gitdown:"^3.1.3",husky:"^4.3.0",nyc:"^15.1.0","semantic-release":"^17.1.1"},engines:{node:">=8.0"},husky:{hooks:{"pre-commit":"npm run lint && npm run test && npm run build","pre-push":"gitdown ./.README/README.md --output-file ./README.md --check"}},keywords:["log","logger","json"],main:"./dist/log.js",name:"roarr",nyc:{include:["src/**/*.js"],instrument:!1,reporter:["text-lcov"],require:["@babel/register"],sourceMap:!1},license:"BSD-3-Clause",repository:{type:"git",url:"git@github.com:gajus/roarr.git"},scripts:{build:"rm -fr ./dist && NODE_ENV=production babel ./src --out-dir ./dist --copy-files --source-maps && flow-copy-source src dist","create-readme":"gitdown ./.README/README.md --output-file ./README.md",dev:"NODE_ENV=production babel ./src --out-dir ./dist --copy-files --source-maps --watch",lint:"eslint ./src ./test && flow",test:"NODE_ENV=test ava --serial --verbose"},version:"2.15.4"}});var m5=$((u5)=>{Object.defineProperty(u5,"__esModule",{value:!0});u5.default=void 0;var L7=(Q)=>{return{write:(Z)=>{Q.write(Z+"\n")}}},P7=()=>{const Z=(process.env.ROARR_STREAM||"STDOUT").toUpperCase().toUpperCase()==="STDOUT"?process.stdout:process.stderr;return L7(Z)},R7=P7;u5.default=R7});var i5=$((p5)=>{var E1=function(Q){return Q&&Q.__esModule?Q:{default:Q}},c5=function(Q,Z){var J=Object.keys(Q);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(Q);if(Z)z=z.filter(function(W){return Object.getOwnPropertyDescriptor(Q,W).enumerable});J.push.apply(J,z)}return J},d0=function(Q){for(var Z=1;Z<arguments.length;Z++){var J=arguments[Z]!=null?arguments[Z]:{};if(Z%2)c5(Object(J),!0).forEach(function(z){M7(Q,z,J[z])});else if(Object.getOwnPropertyDescriptors)Object.defineProperties(Q,Object.getOwnPropertyDescriptors(J));else c5(Object(J)).forEach(function(z){Object.defineProperty(Q,z,Object.getOwnPropertyDescriptor(J,z))})}return Q},M7=function(Q,Z,J){if(Z in Q)Object.defineProperty(Q,Z,{value:J,enumerable:!0,configurable:!0,writable:!0});else Q[Z]=J;return Q};Object.defineProperty(p5,"__esModule",{value:!0});p5.default=void 0;var A7=E1(S0()),T1=E1(d5()),M1=f5(),T7=E1(m5()),E7=(Q)=>{const Z=(Q.versions||[]).concat();Z.sort(T1.default);const J=!Z.length||T1.default(M1.version,Z[Z.length-1])===1;if(!Z.includes(M1.version))Z.push(M1.version);Z.sort(T1.default);let z=d0(d0({sequence:0},Q),{},{versions:Z});if(A7.default){if(J||!z.write)z=d0(d0({},z),T7.default())}return z},C7=E7;p5.default=C7});var n5=$((H0)=>{var C1=function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(H0,"__esModule",{value:!0});Object.defineProperty(H0,"createLogger",{enumerable:!0,get:function(){return w7.default}});Object.defineProperty(H0,"createMockLogger",{enumerable:!0,get:function(){return S7.default}});Object.defineProperty(H0,"createRoarrInititialGlobalState",{enumerable:!0,get:function(){return x7.default}});var w7=C1(j5()),S7=C1(k5()),x7=C1(i5())});var e5=$((r5)=>{var a5=function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(r5,"__esModule",{value:!0});r5.default=r5.ROARR=void 0;var j7=w0(),y7=a5(S0()),_7=a5(q1()),S1=n5(),s5=_7.default(),w1=s5.ROARR=S1.createRoarrInititialGlobalState(s5.ROARR||{});r5.ROARR=w1;var t5=S1.createLogger;if(y7.default){if(!j7.boolean(process.env.ROARR_LOG||""))t5=S1.createMockLogger}var v7=t5((Q)=>{if(w1.write){const Z=JSON.stringify(Q);w1.write(Z)}});r5.default=v7});var V0=$((Q8)=>{var b7=function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(Q8,"__esModule",{value:!0});Q8.default=void 0;var k7=b7(e5()),d7=k7.default.child({package:"global-agent"}),f7=d7;Q8.default=f7});var G0=$((n3,J8)=>{var u7=Number.MAX_SAFE_INTEGER||9007199254740991,g7=["major","premajor","minor","preminor","patch","prepatch","prerelease"];J8.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:u7,RELEASE_TYPES:g7,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var U0=$((s3,z8)=>{var m7=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...Q)=>console.error("SEMVER",...Q):()=>{};z8.exports=m7});var e=$((k,W8)=>{var{MAX_SAFE_COMPONENT_LENGTH:x1,MAX_SAFE_BUILD_LENGTH:c7,MAX_LENGTH:p7}=G0(),l7=U0();k=W8.exports={};var i7=k.re=[],n7=k.safeRe=[],G=k.src=[],U=k.t={},s7=0,j1="[a-zA-Z0-9-]",a7=[["\\s",1],["\\d",p7],[j1,c7]],t7=(Q)=>{for(let[Z,J]of a7)Q=Q.split(`${Z}*`).join(`${Z}{0,${J}}`).split(`${Z}+`).join(`${Z}{1,${J}}`);return Q},N=(Q,Z,J)=>{const z=t7(Z),W=s7++;l7(Q,W,Z),U[Q]=W,G[W]=Z,i7[W]=new RegExp(Z,J?"g":void 0),n7[W]=new RegExp(z,J?"g":void 0)};N("NUMERICIDENTIFIER","0|[1-9]\\d*");N("NUMERICIDENTIFIERLOOSE","\\d+");N("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${j1}*`);N("MAINVERSION",`(${G[U.NUMERICIDENTIFIER]})\\.`+`(${G[U.NUMERICIDENTIFIER]})\\.`+`(${G[U.NUMERICIDENTIFIER]})`);N("MAINVERSIONLOOSE",`(${G[U.NUMERICIDENTIFIERLOOSE]})\\.`+`(${G[U.NUMERICIDENTIFIERLOOSE]})\\.`+`(${G[U.NUMERICIDENTIFIERLOOSE]})`);N("PRERELEASEIDENTIFIER",`(?:${G[U.NUMERICIDENTIFIER]}|${G[U.NONNUMERICIDENTIFIER]})`);N("PRERELEASEIDENTIFIERLOOSE",`(?:${G[U.NUMERICIDENTIFIERLOOSE]}|${G[U.NONNUMERICIDENTIFIER]})`);N("PRERELEASE",`(?:-(${G[U.PRERELEASEIDENTIFIER]}(?:\\.${G[U.PRERELEASEIDENTIFIER]})*))`);N("PRERELEASELOOSE",`(?:-?(${G[U.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${G[U.PRERELEASEIDENTIFIERLOOSE]})*))`);N("BUILDIDENTIFIER",`${j1}+`);N("BUILD",`(?:\\+(${G[U.BUILDIDENTIFIER]}(?:\\.${G[U.BUILDIDENTIFIER]})*))`);N("FULLPLAIN",`v?${G[U.MAINVERSION]}${G[U.PRERELEASE]}?${G[U.BUILD]}?`);N("FULL",`^${G[U.FULLPLAIN]}\$`);N("LOOSEPLAIN",`[v=\\s]*${G[U.MAINVERSIONLOOSE]}${G[U.PRERELEASELOOSE]}?${G[U.BUILD]}?`);N("LOOSE",`^${G[U.LOOSEPLAIN]}\$`);N("GTLT","((?:<|>)?=?)");N("XRANGEIDENTIFIERLOOSE",`${G[U.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);N("XRANGEIDENTIFIER",`${G[U.NUMERICIDENTIFIER]}|x|X|\\*`);N("XRANGEPLAIN",`[v=\\s]*(${G[U.XRANGEIDENTIFIER]})`+`(?:\\.(${G[U.XRANGEIDENTIFIER]})`+`(?:\\.(${G[U.XRANGEIDENTIFIER]})`+`(?:${G[U.PRERELEASE]})?${G[U.BUILD]}?`+")?)?");N("XRANGEPLAINLOOSE",`[v=\\s]*(${G[U.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${G[U.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${G[U.XRANGEIDENTIFIERLOOSE]})`+`(?:${G[U.PRERELEASELOOSE]})?${G[U.BUILD]}?`+")?)?");N("XRANGE",`^${G[U.GTLT]}\\s*${G[U.XRANGEPLAIN]}\$`);N("XRANGELOOSE",`^${G[U.GTLT]}\\s*${G[U.XRANGEPLAINLOOSE]}\$`);N("COERCEPLAIN",`(^|[^\\d])(\\d{1,${x1}})`+`(?:\\.(\\d{1,${x1}}))?`+`(?:\\.(\\d{1,${x1}}))?`);N("COERCE",`${G[U.COERCEPLAIN]}(?:\$|[^\\d])`);N("COERCEFULL",G[U.COERCEPLAIN]+`(?:${G[U.PRERELEASE]})?`+`(?:${G[U.BUILD]})?`+"(?:$|[^\\d])");N("COERCERTL",G[U.COERCE],!0);N("COERCERTLFULL",G[U.COERCEFULL],!0);N("LONETILDE","(?:~>?)");N("TILDETRIM",`(\\s*)${G[U.LONETILDE]}\\s+`,!0);k.tildeTrimReplace="$1~";N("TILDE",`^${G[U.LONETILDE]}${G[U.XRANGEPLAIN]}\$`);N("TILDELOOSE",`^${G[U.LONETILDE]}${G[U.XRANGEPLAINLOOSE]}\$`);N("LONECARET","(?:\\^)");N("CARETTRIM",`(\\s*)${G[U.LONECARET]}\\s+`,!0);k.caretTrimReplace="$1^";N("CARET",`^${G[U.LONECARET]}${G[U.XRANGEPLAIN]}\$`);N("CARETLOOSE",`^${G[U.LONECARET]}${G[U.XRANGEPLAINLOOSE]}\$`);N("COMPARATORLOOSE",`^${G[U.GTLT]}\\s*(${G[U.LOOSEPLAIN]})\$|^\$`);N("COMPARATOR",`^${G[U.GTLT]}\\s*(${G[U.FULLPLAIN]})\$|^\$`);N("COMPARATORTRIM",`(\\s*)${G[U.GTLT]}\\s*(${G[U.LOOSEPLAIN]}|${G[U.XRANGEPLAIN]})`,!0);k.comparatorTrimReplace="$1$2$3";N("HYPHENRANGE",`^\\s*(${G[U.XRANGEPLAIN]})`+"\\s+-\\s+"+`(${G[U.XRANGEPLAIN]})`+"\\s*$");N("HYPHENRANGELOOSE",`^\\s*(${G[U.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${G[U.XRANGEPLAINLOOSE]})`+"\\s*$");N("STAR","(<|>)?=?\\s*\\*");N("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");N("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var f0=$((a3,K8)=>{var r7=Object.freeze({loose:!0}),o7=Object.freeze({}),e7=(Q)=>{if(!Q)return o7;if(typeof Q!=="object")return r7;return Q};K8.exports=e7});var y1=$((t3,X8)=>{var F8=/^[0-9]+$/,B8=(Q,Z)=>{const J=F8.test(Q),z=F8.test(Z);if(J&&z)Q=+Q,Z=+Z;return Q===Z?0:J&&!z?-1:z&&!J?1:Q<Z?-1:1},Q9=(Q,Z)=>B8(Z,Q);X8.exports={compareIdentifiers:B8,rcompareIdentifiers:Q9}});var T=$((r3,V8)=>{var u0=U0(),{MAX_LENGTH:Y8,MAX_SAFE_INTEGER:g0}=G0(),{safeRe:$8,t:H8}=e(),Z9=f0(),{compareIdentifiers:Q0}=y1();class y{constructor(Q,Z){if(Z=Z9(Z),Q instanceof y)if(Q.loose===!!Z.loose&&Q.includePrerelease===!!Z.includePrerelease)return Q;else Q=Q.version;else if(typeof Q!=="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof Q}".`);if(Q.length>Y8)throw new TypeError(`version is longer than ${Y8} characters`);u0("SemVer",Q,Z),this.options=Z,this.loose=!!Z.loose,this.includePrerelease=!!Z.includePrerelease;const J=Q.trim().match(Z.loose?$8[H8.LOOSE]:$8[H8.FULL]);if(!J)throw new TypeError(`Invalid Version: ${Q}`);if(this.raw=Q,this.major=+J[1],this.minor=+J[2],this.patch=+J[3],this.major>g0||this.major<0)throw new TypeError("Invalid major version");if(this.minor>g0||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>g0||this.patch<0)throw new TypeError("Invalid patch version");if(!J[4])this.prerelease=[];else this.prerelease=J[4].split(".").map((z)=>{if(/^[0-9]+$/.test(z)){const W=+z;if(W>=0&&W<g0)return W}return z});this.build=J[5]?J[5].split("."):[],this.format()}format(){if(this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length)this.version+=`-${this.prerelease.join(".")}`;return this.version}toString(){return this.version}compare(Q){if(u0("SemVer.compare",this.version,this.options,Q),!(Q instanceof y)){if(typeof Q==="string"&&Q===this.version)return 0;Q=new y(Q,this.options)}if(Q.version===this.version)return 0;return this.compareMain(Q)||this.comparePre(Q)}compareMain(Q){if(!(Q instanceof y))Q=new y(Q,this.options);return Q0(this.major,Q.major)||Q0(this.minor,Q.minor)||Q0(this.patch,Q.patch)}comparePre(Q){if(!(Q instanceof y))Q=new y(Q,this.options);if(this.prerelease.length&&!Q.prerelease.length)return-1;else if(!this.prerelease.length&&Q.prerelease.length)return 1;else if(!this.prerelease.length&&!Q.prerelease.length)return 0;let Z=0;do{const J=this.prerelease[Z],z=Q.prerelease[Z];if(u0("prerelease compare",Z,J,z),J===void 0&&z===void 0)return 0;else if(z===void 0)return 1;else if(J===void 0)return-1;else if(J===z)continue;else return Q0(J,z)}while(++Z)}compareBuild(Q){if(!(Q instanceof y))Q=new y(Q,this.options);let Z=0;do{const J=this.build[Z],z=Q.build[Z];if(u0("prerelease compare",Z,J,z),J===void 0&&z===void 0)return 0;else if(z===void 0)return 1;else if(J===void 0)return-1;else if(J===z)continue;else return Q0(J,z)}while(++Z)}inc(Q,Z,J){switch(Q){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",Z,J);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",Z,J);break;case"prepatch":this.prerelease.length=0,this.inc("patch",Z,J),this.inc("pre",Z,J);break;case"prerelease":if(this.prerelease.length===0)this.inc("patch",Z,J);this.inc("pre",Z,J);break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0)this.major++;this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0)this.minor++;this.patch=0,this.prerelease=[];break;case"patch":if(this.prerelease.length===0)this.patch++;this.prerelease=[];break;case"pre":{const z=Number(J)?1:0;if(!Z&&J===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[z];else{let W=this.prerelease.length;while(--W>=0)if(typeof this.prerelease[W]==="number")this.prerelease[W]++,W=-2;if(W===-1){if(Z===this.prerelease.join(".")&&J===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(z)}}if(Z){let W=[Z,z];if(J===!1)W=[Z];if(Q0(this.prerelease[0],Z)===0){if(isNaN(this.prerelease[1]))this.prerelease=W}else this.prerelease=W}break}default:throw new Error(`invalid increment argument: ${Q}`)}if(this.raw=this.format(),this.build.length)this.raw+=`+${this.build.join(".")}`;return this}}V8.exports=y});var c=$((o3,U8)=>{var G8=T(),J9=(Q,Z,J=!1)=>{if(Q instanceof G8)return Q;try{return new G8(Q,Z)}catch(z){if(!J)return null;throw z}};U8.exports=J9});var I8=$((e3,O8)=>{var z9=c(),W9=(Q,Z)=>{const J=z9(Q,Z);return J?J.version:null};O8.exports=W9});var N8=$((QW,q8)=>{var K9=c(),F9=(Q,Z)=>{const J=K9(Q.trim().replace(/^[=v]+/,""),Z);return J?J.version:null};q8.exports=F9});var P8=$((ZW,L8)=>{var D8=T(),B9=(Q,Z,J,z,W)=>{if(typeof J==="string")W=z,z=J,J=void 0;try{return new D8(Q instanceof D8?Q.version:Q,J).inc(Z,z,W).version}catch(K){return null}};L8.exports=B9});var T8=$((JW,A8)=>{var R8=c(),X9=(Q,Z)=>{const J=R8(Q,null,!0),z=R8(Z,null,!0),W=J.compare(z);if(W===0)return null;const K=W>0,F=K?J:z,X=K?z:J,Y=!!F.prerelease.length;if(!!X.prerelease.length&&!Y){if(!X.patch&&!X.minor)return"major";if(F.patch)return"patch";if(F.minor)return"minor";return"major"}const B=Y?"pre":"";if(J.major!==z.major)return B+"major";if(J.minor!==z.minor)return B+"minor";if(J.patch!==z.patch)return B+"patch";return"prerelease"};A8.exports=X9});var E8=$((zW,M8)=>{var Y9=T(),$9=(Q,Z)=>new Y9(Q,Z).major;M8.exports=$9});var w8=$((WW,C8)=>{var H9=T(),V9=(Q,Z)=>new H9(Q,Z).minor;C8.exports=V9});var x8=$((KW,S8)=>{var G9=T(),U9=(Q,Z)=>new G9(Q,Z).patch;S8.exports=U9});var y8=$((FW,j8)=>{var O9=c(),I9=(Q,Z)=>{const J=O9(Q,Z);return J&&J.prerelease.length?J.prerelease:null};j8.exports=I9});var x=$((BW,v8)=>{var _8=T(),q9=(Q,Z,J)=>new _8(Q,J).compare(new _8(Z,J));v8.exports=q9});var k8=$((XW,h8)=>{var N9=x(),D9=(Q,Z,J)=>N9(Z,Q,J);h8.exports=D9});var d8=$((YW,b8)=>{var L9=x(),P9=(Q,Z)=>L9(Q,Z,!0);b8.exports=P9});var m0=$(($W,u8)=>{var f8=T(),R9=(Q,Z,J)=>{const z=new f8(Q,J),W=new f8(Z,J);return z.compare(W)||z.compareBuild(W)};u8.exports=R9});var m8=$((HW,g8)=>{var A9=m0(),T9=(Q,Z)=>Q.sort((J,z)=>A9(J,z,Z));g8.exports=T9});var p8=$((VW,c8)=>{var M9=m0(),E9=(Q,Z)=>Q.sort((J,z)=>M9(z,J,Z));c8.exports=E9});var O0=$((GW,l8)=>{var C9=x(),w9=(Q,Z,J)=>C9(Q,Z,J)>0;l8.exports=w9});var c0=$((UW,i8)=>{var S9=x(),x9=(Q,Z,J)=>S9(Q,Z,J)<0;i8.exports=x9});var _1=$((OW,n8)=>{var j9=x(),y9=(Q,Z,J)=>j9(Q,Z,J)===0;n8.exports=y9});var v1=$((IW,s8)=>{var _9=x(),v9=(Q,Z,J)=>_9(Q,Z,J)!==0;s8.exports=v9});var p0=$((qW,a8)=>{var h9=x(),k9=(Q,Z,J)=>h9(Q,Z,J)>=0;a8.exports=k9});var l0=$((NW,t8)=>{var b9=x(),d9=(Q,Z,J)=>b9(Q,Z,J)<=0;t8.exports=d9});var h1=$((DW,r8)=>{var f9=_1(),u9=v1(),g9=O0(),m9=p0(),c9=c0(),p9=l0(),l9=(Q,Z,J,z)=>{switch(Z){case"===":if(typeof Q==="object")Q=Q.version;if(typeof J==="object")J=J.version;return Q===J;case"!==":if(typeof Q==="object")Q=Q.version;if(typeof J==="object")J=J.version;return Q!==J;case"":case"=":case"==":return f9(Q,J,z);case"!=":return u9(Q,J,z);case">":return g9(Q,J,z);case">=":return m9(Q,J,z);case"<":return c9(Q,J,z);case"<=":return p9(Q,J,z);default:throw new TypeError(`Invalid operator: ${Z}`)}};r8.exports=l9});var e8=$((LW,o8)=>{var i9=T(),n9=c(),{safeRe:i0,t:n0}=e(),s9=(Q,Z)=>{if(Q instanceof i9)return Q;if(typeof Q==="number")Q=String(Q);if(typeof Q!=="string")return null;Z=Z||{};let J=null;if(!Z.rtl)J=Q.match(Z.includePrerelease?i0[n0.COERCEFULL]:i0[n0.COERCE]);else{const Y=Z.includePrerelease?i0[n0.COERCERTLFULL]:i0[n0.COERCERTL];let V;while((V=Y.exec(Q))&&(!J||J.index+J[0].length!==Q.length)){if(!J||V.index+V[0].length!==J.index+J[0].length)J=V;Y.lastIndex=V.index+V[1].length+V[2].length}Y.lastIndex=-1}if(J===null)return null;const z=J[2],W=J[3]||"0",K=J[4]||"0",F=Z.includePrerelease&&J[5]?`-${J[5]}`:"",X=Z.includePrerelease&&J[6]?`+${J[6]}`:"";return n9(`${z}.${W}.${K}${F}${X}`,Z)};o8.exports=s9});var Z6=$((PW,Q6)=>{Q6.exports=function(Q){Q.prototype[Symbol.iterator]=function*(){for(let Z=this.head;Z;Z=Z.next)yield Z.value}}});var z6=$((RW,J6)=>{var L=function(Q){var Z=this;if(!(Z instanceof L))Z=new L;if(Z.tail=null,Z.head=null,Z.length=0,Q&&typeof Q.forEach==="function")Q.forEach(function(W){Z.push(W)});else if(arguments.length>0)for(var J=0,z=arguments.length;J<z;J++)Z.push(arguments[J]);return Z},a9=function(Q,Z,J){var z=Z===Q.head?new p(J,null,Z,Q):new p(J,Z,Z.next,Q);if(z.next===null)Q.tail=z;if(z.prev===null)Q.head=z;return Q.length++,z},t9=function(Q,Z){if(Q.tail=new p(Z,Q.tail,null,Q),!Q.head)Q.head=Q.tail;Q.length++},r9=function(Q,Z){if(Q.head=new p(Z,null,Q.head,Q),!Q.tail)Q.tail=Q.head;Q.length++},p=function(Q,Z,J,z){if(!(this instanceof p))return new p(Q,Z,J,z);if(this.list=z,this.value=Q,Z)Z.next=this,this.prev=Z;else this.prev=null;if(J)J.prev=this,this.next=J;else this.next=null};J6.exports=L;L.Node=p;L.create=L;L.prototype.removeNode=function(Q){if(Q.list!==this)throw new Error("removing node which does not belong to this list");var{next:Z,prev:J}=Q;if(Z)Z.prev=J;if(J)J.next=Z;if(Q===this.head)this.head=Z;if(Q===this.tail)this.tail=J;return Q.list.length--,Q.next=null,Q.prev=null,Q.list=null,Z};L.prototype.unshiftNode=function(Q){if(Q===this.head)return;if(Q.list)Q.list.removeNode(Q);var Z=this.head;if(Q.list=this,Q.next=Z,Z)Z.prev=Q;if(this.head=Q,!this.tail)this.tail=Q;this.length++};L.prototype.pushNode=function(Q){if(Q===this.tail)return;if(Q.list)Q.list.removeNode(Q);var Z=this.tail;if(Q.list=this,Q.prev=Z,Z)Z.next=Q;if(this.tail=Q,!this.head)this.head=Q;this.length++};L.prototype.push=function(){for(var Q=0,Z=arguments.length;Q<Z;Q++)t9(this,arguments[Q]);return this.length};L.prototype.unshift=function(){for(var Q=0,Z=arguments.length;Q<Z;Q++)r9(this,arguments[Q]);return this.length};L.prototype.pop=function(){if(!this.tail)return;var Q=this.tail.value;if(this.tail=this.tail.prev,this.tail)this.tail.next=null;else this.head=null;return this.length--,Q};L.prototype.shift=function(){if(!this.head)return;var Q=this.head.value;if(this.head=this.head.next,this.head)this.head.prev=null;else this.tail=null;return this.length--,Q};L.prototype.forEach=function(Q,Z){Z=Z||this;for(var J=this.head,z=0;J!==null;z++)Q.call(Z,J.value,z,this),J=J.next};L.prototype.forEachReverse=function(Q,Z){Z=Z||this;for(var J=this.tail,z=this.length-1;J!==null;z--)Q.call(Z,J.value,z,this),J=J.prev};L.prototype.get=function(Q){for(var Z=0,J=this.head;J!==null&&Z<Q;Z++)J=J.next;if(Z===Q&&J!==null)return J.value};L.prototype.getReverse=function(Q){for(var Z=0,J=this.tail;J!==null&&Z<Q;Z++)J=J.prev;if(Z===Q&&J!==null)return J.value};L.prototype.map=function(Q,Z){Z=Z||this;var J=new L;for(var z=this.head;z!==null;)J.push(Q.call(Z,z.value,this)),z=z.next;return J};L.prototype.mapReverse=function(Q,Z){Z=Z||this;var J=new L;for(var z=this.tail;z!==null;)J.push(Q.call(Z,z.value,this)),z=z.prev;return J};L.prototype.reduce=function(Q,Z){var J,z=this.head;if(arguments.length>1)J=Z;else if(this.head)z=this.head.next,J=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var W=0;z!==null;W++)J=Q(J,z.value,W),z=z.next;return J};L.prototype.reduceReverse=function(Q,Z){var J,z=this.tail;if(arguments.length>1)J=Z;else if(this.tail)z=this.tail.prev,J=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var W=this.length-1;z!==null;W--)J=Q(J,z.value,W),z=z.prev;return J};L.prototype.toArray=function(){var Q=new Array(this.length);for(var Z=0,J=this.head;J!==null;Z++)Q[Z]=J.value,J=J.next;return Q};L.prototype.toArrayReverse=function(){var Q=new Array(this.length);for(var Z=0,J=this.tail;J!==null;Z++)Q[Z]=J.value,J=J.prev;return Q};L.prototype.slice=function(Q,Z){if(Z=Z||this.length,Z<0)Z+=this.length;if(Q=Q||0,Q<0)Q+=this.length;var J=new L;if(Z<Q||Z<0)return J;if(Q<0)Q=0;if(Z>this.length)Z=this.length;for(var z=0,W=this.head;W!==null&&z<Q;z++)W=W.next;for(;W!==null&&z<Z;z++,W=W.next)J.push(W.value);return J};L.prototype.sliceReverse=function(Q,Z){if(Z=Z||this.length,Z<0)Z+=this.length;if(Q=Q||0,Q<0)Q+=this.length;var J=new L;if(Z<Q||Z<0)return J;if(Q<0)Q=0;if(Z>this.length)Z=this.length;for(var z=this.length,W=this.tail;W!==null&&z>Z;z--)W=W.prev;for(;W!==null&&z>Q;z--,W=W.prev)J.push(W.value);return J};L.prototype.splice=function(Q,Z,...J){if(Q>this.length)Q=this.length-1;if(Q<0)Q=this.length+Q;for(var z=0,W=this.head;W!==null&&z<Q;z++)W=W.next;var K=[];for(var z=0;W&&z<Z;z++)K.push(W.value),W=this.removeNode(W);if(W===null)W=this.tail;if(W!==this.head&&W!==this.tail)W=W.prev;for(var z=0;z<J.length;z++)W=a9(this,W,J[z]);return K};L.prototype.reverse=function(){var Q=this.head,Z=this.tail;for(var J=Q;J!==null;J=J.prev){var z=J.prev;J.prev=J.next,J.next=z}return this.head=Z,this.tail=Q,this};try{Z6()(L)}catch(Q){}});var $6=$((AW,Y6)=>{var o9=z6(),l=Symbol("max"),d=Symbol("length"),Z0=Symbol("lengthCalculator"),q0=Symbol("allowStale"),i=Symbol("maxAge"),b=Symbol("dispose"),W6=Symbol("noDisposeOnSet"),A=Symbol("lruList"),_=Symbol("cache"),F6=Symbol("updateAgeOnGet"),k1=()=>1;class B6{constructor(Q){if(typeof Q==="number")Q={max:Q};if(!Q)Q={};if(Q.max&&(typeof Q.max!=="number"||Q.max<0))throw new TypeError("max must be a non-negative number");const Z=this[l]=Q.max||Infinity,J=Q.length||k1;if(this[Z0]=typeof J!=="function"?k1:J,this[q0]=Q.stale||!1,Q.maxAge&&typeof Q.maxAge!=="number")throw new TypeError("maxAge must be a number");this[i]=Q.maxAge||0,this[b]=Q.dispose,this[W6]=Q.noDisposeOnSet||!1,this[F6]=Q.updateAgeOnGet||!1,this.reset()}set max(Q){if(typeof Q!=="number"||Q<0)throw new TypeError("max must be a non-negative number");this[l]=Q||Infinity,I0(this)}get max(){return this[l]}set allowStale(Q){this[q0]=!!Q}get allowStale(){return this[q0]}set maxAge(Q){if(typeof Q!=="number")throw new TypeError("maxAge must be a non-negative number");this[i]=Q,I0(this)}get maxAge(){return this[i]}set lengthCalculator(Q){if(typeof Q!=="function")Q=k1;if(Q!==this[Z0])this[Z0]=Q,this[d]=0,this[A].forEach((Z)=>{Z.length=this[Z0](Z.value,Z.key),this[d]+=Z.length});I0(this)}get lengthCalculator(){return this[Z0]}get length(){return this[d]}get itemCount(){return this[A].length}rforEach(Q,Z){Z=Z||this;for(let J=this[A].tail;J!==null;){const z=J.prev;K6(this,Q,J,Z),J=z}}forEach(Q,Z){Z=Z||this;for(let J=this[A].head;J!==null;){const z=J.next;K6(this,Q,J,Z),J=z}}keys(){return this[A].toArray().map((Q)=>Q.key)}values(){return this[A].toArray().map((Q)=>Q.value)}reset(){if(this[b]&&this[A]&&this[A].length)this[A].forEach((Q)=>this[b](Q.key,Q.value));this[_]=new Map,this[A]=new o9,this[d]=0}dump(){return this[A].map((Q)=>s0(this,Q)?!1:{k:Q.key,v:Q.value,e:Q.now+(Q.maxAge||0)}).toArray().filter((Q)=>Q)}dumpLru(){return this[A]}set(Q,Z,J){if(J=J||this[i],J&&typeof J!=="number")throw new TypeError("maxAge must be a number");const z=J?Date.now():0,W=this[Z0](Z,Q);if(this[_].has(Q)){if(W>this[l])return J0(this,this[_].get(Q)),!1;const X=this[_].get(Q).value;if(this[b]){if(!this[W6])this[b](Q,X.value)}return X.now=z,X.maxAge=J,X.value=Z,this[d]+=W-X.length,X.length=W,this.get(Q),I0(this),!0}const K=new X6(Q,Z,W,z,J);if(K.length>this[l]){if(this[b])this[b](Q,Z);return!1}return this[d]+=K.length,this[A].unshift(K),this[_].set(Q,this[A].head),I0(this),!0}has(Q){if(!this[_].has(Q))return!1;const Z=this[_].get(Q).value;return!s0(this,Z)}get(Q){return b1(this,Q,!0)}peek(Q){return b1(this,Q,!1)}pop(){const Q=this[A].tail;if(!Q)return null;return J0(this,Q),Q.value}del(Q){J0(this,this[_].get(Q))}load(Q){this.reset();const Z=Date.now();for(let J=Q.length-1;J>=0;J--){const z=Q[J],W=z.e||0;if(W===0)this.set(z.k,z.v);else{const K=W-Z;if(K>0)this.set(z.k,z.v,K)}}}prune(){this[_].forEach((Q,Z)=>b1(this,Z,!1))}}var b1=(Q,Z,J)=>{const z=Q[_].get(Z);if(z){const W=z.value;if(s0(Q,W)){if(J0(Q,z),!Q[q0])return}else if(J){if(Q[F6])z.value.now=Date.now();Q[A].unshiftNode(z)}return W.value}},s0=(Q,Z)=>{if(!Z||!Z.maxAge&&!Q[i])return!1;const J=Date.now()-Z.now;return Z.maxAge?J>Z.maxAge:Q[i]&&J>Q[i]},I0=(Q)=>{if(Q[d]>Q[l])for(let Z=Q[A].tail;Q[d]>Q[l]&&Z!==null;){const J=Z.prev;J0(Q,Z),Z=J}},J0=(Q,Z)=>{if(Z){const J=Z.value;if(Q[b])Q[b](J.key,J.value);Q[d]-=J.length,Q[_].delete(J.key),Q[A].removeNode(Z)}};class X6{constructor(Q,Z,J,z,W){this.key=Q,this.value=Z,this.length=J,this.now=z,this.maxAge=W||0}}var K6=(Q,Z,J,z)=>{let W=J.value;if(s0(Q,W)){if(J0(Q,J),!Q[q0])W=void 0}if(W)Z.call(z,W.value,W.key,Q)};Y6.exports=B6});var j=$((TW,U6)=>{class N0{constructor(Q,Z){if(Z=QJ(Z),Q instanceof N0)if(Q.loose===!!Z.loose&&Q.includePrerelease===!!Z.includePrerelease)return Q;else return new N0(Q.raw,Z);if(Q instanceof d1)return this.raw=Q.value,this.set=[[Q]],this.format(),this;if(this.options=Z,this.loose=!!Z.loose,this.includePrerelease=!!Z.includePrerelease,this.raw=Q.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((J)=>this.parseRange(J.trim())).filter((J)=>J.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const J=this.set[0];if(this.set=this.set.filter((z)=>!V6(z[0])),this.set.length===0)this.set=[J];else if(this.set.length>1){for(let z of this.set)if(z.length===1&&BJ(z[0])){this.set=[z];break}}}this.format()}format(){return this.range=this.set.map((Q)=>Q.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(Q){const J=((this.options.includePrerelease&&KJ)|(this.options.loose&&FJ))+":"+Q,z=H6.get(J);if(z)return z;const W=this.options.loose,K=W?w[M.HYPHENRANGELOOSE]:w[M.HYPHENRANGE];Q=Q.replace(K,qJ(this.options.includePrerelease)),P("hyphen replace",Q),Q=Q.replace(w[M.COMPARATORTRIM],JJ),P("comparator trim",Q),Q=Q.replace(w[M.TILDETRIM],zJ),P("tilde trim",Q),Q=Q.replace(w[M.CARETTRIM],WJ),P("caret trim",Q);let F=Q.split(" ").map((B)=>XJ(B,this.options)).join(" ").split(/\s+/).map((B)=>IJ(B,this.options));if(W)F=F.filter((B)=>{return P("loose invalid filter",B,this.options),!!B.match(w[M.COMPARATORLOOSE])});P("range list",F);const X=new Map,Y=F.map((B)=>new d1(B,this.options));for(let B of Y){if(V6(B))return[B];X.set(B.value,B)}if(X.size>1&&X.has(""))X.delete("");const V=[...X.values()];return H6.set(J,V),V}intersects(Q,Z){if(!(Q instanceof N0))throw new TypeError("a Range is required");return this.set.some((J)=>{return G6(J,Z)&&Q.set.some((z)=>{return G6(z,Z)&&J.every((W)=>{return z.every((K)=>{return W.intersects(K,Z)})})})})}test(Q){if(!Q)return!1;if(typeof Q==="string")try{Q=new ZJ(Q,this.options)}catch(Z){return!1}for(let Z=0;Z<this.set.length;Z++)if(NJ(this.set[Z],Q,this.options))return!0;return!1}}U6.exports=N0;var e9=$6(),H6=new e9({max:1000}),QJ=f0(),d1=D0(),P=U0(),ZJ=T(),{safeRe:w,t:M,comparatorTrimReplace:JJ,tildeTrimReplace:zJ,caretTrimReplace:WJ}=e(),{FLAG_INCLUDE_PRERELEASE:KJ,FLAG_LOOSE:FJ}=G0(),V6=(Q)=>Q.value==="<0.0.0-0",BJ=(Q)=>Q.value==="",G6=(Q,Z)=>{let J=!0;const z=Q.slice();let W=z.pop();while(J&&z.length)J=z.every((K)=>{return W.intersects(K,Z)}),W=z.pop();return J},XJ=(Q,Z)=>{return P("comp",Q,Z),Q=HJ(Q,Z),P("caret",Q),Q=YJ(Q,Z),P("tildes",Q),Q=GJ(Q,Z),P("xrange",Q),Q=OJ(Q,Z),P("stars",Q),Q},E=(Q)=>!Q||Q.toLowerCase()==="x"||Q==="*",YJ=(Q,Z)=>{return Q.trim().split(/\s+/).map((J)=>$J(J,Z)).join(" ")},$J=(Q,Z)=>{const J=Z.loose?w[M.TILDELOOSE]:w[M.TILDE];return Q.replace(J,(z,W,K,F,X)=>{P("tilde",Q,z,W,K,F,X);let Y;if(E(W))Y="";else if(E(K))Y=`>=${W}.0.0 <${+W+1}.0.0-0`;else if(E(F))Y=`>=${W}.${K}.0 <${W}.${+K+1}.0-0`;else if(X)P("replaceTilde pr",X),Y=`>=${W}.${K}.${F}-${X} <${W}.${+K+1}.0-0`;else Y=`>=${W}.${K}.${F} <${W}.${+K+1}.0-0`;return P("tilde return",Y),Y})},HJ=(Q,Z)=>{return Q.trim().split(/\s+/).map((J)=>VJ(J,Z)).join(" ")},VJ=(Q,Z)=>{P("caret",Q,Z);const J=Z.loose?w[M.CARETLOOSE]:w[M.CARET],z=Z.includePrerelease?"-0":"";return Q.replace(J,(W,K,F,X,Y)=>{P("caret",Q,W,K,F,X,Y);let V;if(E(K))V="";else if(E(F))V=`>=${K}.0.0${z} <${+K+1}.0.0-0`;else if(E(X))if(K==="0")V=`>=${K}.${F}.0${z} <${K}.${+F+1}.0-0`;else V=`>=${K}.${F}.0${z} <${+K+1}.0.0-0`;else if(Y)if(P("replaceCaret pr",Y),K==="0")if(F==="0")V=`>=${K}.${F}.${X}-${Y} <${K}.${F}.${+X+1}-0`;else V=`>=${K}.${F}.${X}-${Y} <${K}.${+F+1}.0-0`;else V=`>=${K}.${F}.${X}-${Y} <${+K+1}.0.0-0`;else if(P("no pr"),K==="0")if(F==="0")V=`>=${K}.${F}.${X}${z} <${K}.${F}.${+X+1}-0`;else V=`>=${K}.${F}.${X}${z} <${K}.${+F+1}.0-0`;else V=`>=${K}.${F}.${X} <${+K+1}.0.0-0`;return P("caret return",V),V})},GJ=(Q,Z)=>{return P("replaceXRanges",Q,Z),Q.split(/\s+/).map((J)=>UJ(J,Z)).join(" ")},UJ=(Q,Z)=>{Q=Q.trim();const J=Z.loose?w[M.XRANGELOOSE]:w[M.XRANGE];return Q.replace(J,(z,W,K,F,X,Y)=>{P("xRange",Q,z,W,K,F,X,Y);const V=E(K),B=V||E(F),I=B||E(X),O=I;if(W==="="&&O)W="";if(Y=Z.includePrerelease?"-0":"",V)if(W===">"||W==="<")z="<0.0.0-0";else z="*";else if(W&&O){if(B)F=0;if(X=0,W===">")if(W=">=",B)K=+K+1,F=0,X=0;else F=+F+1,X=0;else if(W==="<=")if(W="<",B)K=+K+1;else F=+F+1;if(W==="<")Y="-0";z=`${W+K}.${F}.${X}${Y}`}else if(B)z=`>=${K}.0.0${Y} <${+K+1}.0.0-0`;else if(I)z=`>=${K}.${F}.0${Y} <${K}.${+F+1}.0-0`;return P("xRange return",z),z})},OJ=(Q,Z)=>{return P("replaceStars",Q,Z),Q.trim().replace(w[M.STAR],"")},IJ=(Q,Z)=>{return P("replaceGTE0",Q,Z),Q.trim().replace(w[Z.includePrerelease?M.GTE0PRE:M.GTE0],"")},qJ=(Q)=>(Z,J,z,W,K,F,X,Y,V,B,I,O,H)=>{if(E(z))J="";else if(E(W))J=`>=${z}.0.0${Q?"-0":""}`;else if(E(K))J=`>=${z}.${W}.0${Q?"-0":""}`;else if(F)J=`>=${J}`;else J=`>=${J}${Q?"-0":""}`;if(E(V))Y="";else if(E(B))Y=`<${+V+1}.0.0-0`;else if(E(I))Y=`<${V}.${+B+1}.0-0`;else if(O)Y=`<=${V}.${B}.${I}-${O}`;else if(Q)Y=`<${V}.${B}.${+I+1}-0`;else Y=`<=${Y}`;return`${J} ${Y}`.trim()},NJ=(Q,Z,J)=>{for(let z=0;z<Q.length;z++)if(!Q[z].test(Z))return!1;if(Z.prerelease.length&&!J.includePrerelease){for(let z=0;z<Q.length;z++){if(P(Q[z].semver),Q[z].semver===d1.ANY)continue;if(Q[z].semver.prerelease.length>0){const W=Q[z].semver;if(W.major===Z.major&&W.minor===Z.minor&&W.patch===Z.patch)return!0}}return!1}return!0}});var D0=$((MW,L6)=>{var L0=Symbol("SemVer ANY");class a0{static get ANY(){return L0}constructor(Q,Z){if(Z=O6(Z),Q instanceof a0)if(Q.loose===!!Z.loose)return Q;else Q=Q.value;if(Q=Q.trim().split(/\s+/).join(" "),u1("comparator",Q,Z),this.options=Z,this.loose=!!Z.loose,this.parse(Q),this.semver===L0)this.value="";else this.value=this.operator+this.semver.version;u1("comp",this)}parse(Q){const Z=this.options.loose?I6[q6.COMPARATORLOOSE]:I6[q6.COMPARATOR],J=Q.match(Z);if(!J)throw new TypeError(`Invalid comparator: ${Q}`);if(this.operator=J[1]!==void 0?J[1]:"",this.operator==="=")this.operator="";if(!J[2])this.semver=L0;else this.semver=new N6(J[2],this.options.loose)}toString(){return this.value}test(Q){if(u1("Comparator.test",Q,this.options.loose),this.semver===L0||Q===L0)return!0;if(typeof Q==="string")try{Q=new N6(Q,this.options)}catch(Z){return!1}return f1(Q,this.operator,this.semver,this.options)}intersects(Q,Z){if(!(Q instanceof a0))throw new TypeError("a Comparator is required");if(this.operator===""){if(this.value==="")return!0;return new D6(Q.value,Z).test(this.value)}else if(Q.operator===""){if(Q.value==="")return!0;return new D6(this.value,Z).test(Q.semver)}if(Z=O6(Z),Z.includePrerelease&&(this.value==="<0.0.0-0"||Q.value==="<0.0.0-0"))return!1;if(!Z.includePrerelease&&(this.value.startsWith("<0.0.0")||Q.value.startsWith("<0.0.0")))return!1;if(this.operator.startsWith(">")&&Q.operator.startsWith(">"))return!0;if(this.operator.startsWith("<")&&Q.operator.startsWith("<"))return!0;if(this.semver.version===Q.semver.version&&this.operator.includes("=")&&Q.operator.includes("="))return!0;if(f1(this.semver,"<",Q.semver,Z)&&this.operator.startsWith(">")&&Q.operator.startsWith("<"))return!0;if(f1(this.semver,">",Q.semver,Z)&&this.operator.startsWith("<")&&Q.operator.startsWith(">"))return!0;return!1}}L6.exports=a0;var O6=f0(),{safeRe:I6,t:q6}=e(),f1=h1(),u1=U0(),N6=T(),D6=j()});var P0=$((EW,P6)=>{var DJ=j(),LJ=(Q,Z,J)=>{try{Z=new DJ(Z,J)}catch(z){return!1}return Z.test(Q)};P6.exports=LJ});var A6=$((CW,R6)=>{var PJ=j(),RJ=(Q,Z)=>new PJ(Q,Z).set.map((J)=>J.map((z)=>z.value).join(" ").trim().split(" "));R6.exports=RJ});var M6=$((wW,T6)=>{var AJ=T(),TJ=j(),MJ=(Q,Z,J)=>{let z=null,W=null,K=null;try{K=new TJ(Z,J)}catch(F){return null}return Q.forEach((F)=>{if(K.test(F)){if(!z||W.compare(F)===-1)z=F,W=new AJ(z,J)}}),z};T6.exports=MJ});var C6=$((SW,E6)=>{var EJ=T(),CJ=j(),wJ=(Q,Z,J)=>{let z=null,W=null,K=null;try{K=new CJ(Z,J)}catch(F){return null}return Q.forEach((F)=>{if(K.test(F)){if(!z||W.compare(F)===1)z=F,W=new EJ(z,J)}}),z};E6.exports=wJ});var x6=$((xW,S6)=>{var g1=T(),SJ=j(),w6=O0(),xJ=(Q,Z)=>{Q=new SJ(Q,Z);let J=new g1("0.0.0");if(Q.test(J))return J;if(J=new g1("0.0.0-0"),Q.test(J))return J;J=null;for(let z=0;z<Q.set.length;++z){const W=Q.set[z];let K=null;if(W.forEach((F)=>{const X=new g1(F.semver.version);switch(F.operator){case">":if(X.prerelease.length===0)X.patch++;else X.prerelease.push(0);X.raw=X.format();case"":case">=":if(!K||w6(X,K))K=X;break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${F.operator}`)}}),K&&(!J||w6(J,K)))J=K}if(J&&Q.test(J))return J;return null};S6.exports=xJ});var y6=$((jW,j6)=>{var jJ=j(),yJ=(Q,Z)=>{try{return new jJ(Q,Z).range||"*"}catch(J){return null}};j6.exports=yJ});var t0=$((yW,k6)=>{var _J=T(),h6=D0(),{ANY:vJ}=h6,hJ=j(),kJ=P0(),_6=O0(),v6=c0(),bJ=l0(),dJ=p0(),fJ=(Q,Z,J,z)=>{Q=new _J(Q,z),Z=new hJ(Z,z);let W,K,F,X,Y;switch(J){case">":W=_6,K=bJ,F=v6,X=">",Y=">=";break;case"<":W=v6,K=dJ,F=_6,X="<",Y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(kJ(Q,Z,z))return!1;for(let V=0;V<Z.set.length;++V){const B=Z.set[V];let I=null,O=null;if(B.forEach((H)=>{if(H.semver===vJ)H=new h6(">=0.0.0");if(I=I||H,O=O||H,W(H.semver,I.semver,z))I=H;else if(F(H.semver,O.semver,z))O=H}),I.operator===X||I.operator===Y)return!1;if((!O.operator||O.operator===X)&&K(Q,O.semver))return!1;else if(O.operator===Y&&F(Q,O.semver))return!1}return!0};k6.exports=fJ});var d6=$((_W,b6)=>{var uJ=t0(),gJ=(Q,Z,J)=>uJ(Q,Z,">",J);b6.exports=gJ});var u6=$((vW,f6)=>{var mJ=t0(),cJ=(Q,Z,J)=>mJ(Q,Z,"<",J);f6.exports=cJ});var c6=$((hW,m6)=>{var g6=j(),pJ=(Q,Z,J)=>{return Q=new g6(Q,J),Z=new g6(Z,J),Q.intersects(Z,J)};m6.exports=pJ});var l6=$((kW,p6)=>{var lJ=P0(),iJ=x();p6.exports=(Q,Z,J)=>{const z=[];let W=null,K=null;const F=Q.sort((B,I)=>iJ(B,I,J));for(let B of F)if(lJ(B,Z,J)){if(K=B,!W)W=B}else{if(K)z.push([W,K]);K=null,W=null}if(W)z.push([W,null]);const X=[];for(let[B,I]of z)if(B===I)X.push(B);else if(!I&&B===F[0])X.push("*");else if(!I)X.push(`>=${B}`);else if(B===F[0])X.push(`<=${I}`);else X.push(`${B} - ${I}`);const Y=X.join(" || "),V=typeof Z.raw==="string"?Z.raw:String(Z);return Y.length<V.length?Y:Z}});var r6=$((bW,t6)=>{var i6=j(),c1=D0(),{ANY:m1}=c1,R0=P0(),p1=x(),nJ=(Q,Z,J={})=>{if(Q===Z)return!0;Q=new i6(Q,J),Z=new i6(Z,J);let z=!1;Q:for(let W of Q.set){for(let K of Z.set){const F=aJ(W,K,J);if(z=z||F!==null,F)continue Q}if(z)return!1}return!0},sJ=[new c1(">=0.0.0-0")],n6=[new c1(">=0.0.0")],aJ=(Q,Z,J)=>{if(Q===Z)return!0;if(Q.length===1&&Q[0].semver===m1)if(Z.length===1&&Z[0].semver===m1)return!0;else if(J.includePrerelease)Q=sJ;else Q=n6;if(Z.length===1&&Z[0].semver===m1)if(J.includePrerelease)return!0;else Z=n6;const z=new Set;let W,K;for(let H of Q)if(H.operator===">"||H.operator===">=")W=s6(W,H,J);else if(H.operator==="<"||H.operator==="<=")K=a6(K,H,J);else z.add(H.semver);if(z.size>1)return null;let F;if(W&&K){if(F=p1(W.semver,K.semver,J),F>0)return null;else if(F===0&&(W.operator!==">="||K.operator!=="<="))return null}for(let H of z){if(W&&!R0(H,String(W),J))return null;if(K&&!R0(H,String(K),J))return null;for(let q of Z)if(!R0(H,String(q),J))return!1;return!0}let X,Y,V,B,I=K&&!J.includePrerelease&&K.semver.prerelease.length?K.semver:!1,O=W&&!J.includePrerelease&&W.semver.prerelease.length?W.semver:!1;if(I&&I.prerelease.length===1&&K.operator==="<"&&I.prerelease[0]===0)I=!1;for(let H of Z){if(B=B||H.operator===">"||H.operator===">=",V=V||H.operator==="<"||H.operator==="<=",W){if(O){if(H.semver.prerelease&&H.semver.prerelease.length&&H.semver.major===O.major&&H.semver.minor===O.minor&&H.semver.patch===O.patch)O=!1}if(H.operator===">"||H.operator===">="){if(X=s6(W,H,J),X===H&&X!==W)return!1}else if(W.operator===">="&&!R0(W.semver,String(H),J))return!1}if(K){if(I){if(H.semver.prerelease&&H.semver.prerelease.length&&H.semver.major===I.major&&H.semver.minor===I.minor&&H.semver.patch===I.patch)I=!1}if(H.operator==="<"||H.operator==="<="){if(Y=a6(K,H,J),Y===H&&Y!==K)return!1}else if(K.operator==="<="&&!R0(K.semver,String(H),J))return!1}if(!H.operator&&(K||W)&&F!==0)return!1}if(W&&V&&!K&&F!==0)return!1;if(K&&B&&!W&&F!==0)return!1;if(O||I)return!1;return!0},s6=(Q,Z,J)=>{if(!Q)return Z;const z=p1(Q.semver,Z.semver,J);return z>0?Q:z<0?Z:Z.operator===">"&&Q.operator===">="?Z:Q},a6=(Q,Z,J)=>{if(!Q)return Z;const z=p1(Q.semver,Z.semver,J);return z<0?Q:z>0?Z:Z.operator==="<"&&Q.operator==="<="?Z:Q};t6.exports=nJ});var ZQ=$((dW,QQ)=>{var l1=e(),o6=G0(),tJ=T(),e6=y1(),rJ=c(),oJ=I8(),eJ=N8(),Qz=P8(),Zz=T8(),Jz=E8(),zz=w8(),Wz=x8(),Kz=y8(),Fz=x(),Bz=k8(),Xz=d8(),Yz=m0(),$z=m8(),Hz=p8(),Vz=O0(),Gz=c0(),Uz=_1(),Oz=v1(),Iz=p0(),qz=l0(),Nz=h1(),Dz=e8(),Lz=D0(),Pz=j(),Rz=P0(),Az=A6(),Tz=M6(),Mz=C6(),Ez=x6(),Cz=y6(),wz=t0(),Sz=d6(),xz=u6(),jz=c6(),yz=l6(),_z=r6();QQ.exports={parse:rJ,valid:oJ,clean:eJ,inc:Qz,diff:Zz,major:Jz,minor:zz,patch:Wz,prerelease:Kz,compare:Fz,rcompare:Bz,compareLoose:Xz,compareBuild:Yz,sort:$z,rsort:Hz,gt:Vz,lt:Gz,eq:Uz,neq:Oz,gte:Iz,lte:qz,cmp:Nz,coerce:Dz,Comparator:Lz,Range:Pz,satisfies:Rz,toComparators:Az,maxSatisfying:Tz,minSatisfying:Mz,minVersion:Ez,validRange:Cz,outside:wz,gtr:Sz,ltr:xz,intersects:jz,simplifyRange:yz,subset:_z,SemVer:tJ,re:l1.re,src:l1.src,tokens:l1.t,SEMVER_SPEC_VERSION:o6.SEMVER_SPEC_VERSION,RELEASE_TYPES:o6.RELEASE_TYPES,compareIdentifiers:e6.compareIdentifiers,rcompareIdentifiers:e6.rcompareIdentifiers}});var zQ=$((fW,JQ)=>{class r0 extends Error{constructor(Q){super(r0._prepareSuperMessage(Q));if(Object.defineProperty(this,"name",{value:"NonError",configurable:!0,writable:!0}),Error.captureStackTrace)Error.captureStackTrace(this,r0)}static _prepareSuperMessage(Q){try{return JSON.stringify(Q)}catch(Z){return String(Q)}}}var vz=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],i1=({from:Q,seen:Z,to_:J,forceEnumerable:z})=>{const W=J||(Array.isArray(Q)?[]:{});Z.push(Q);for(let[K,F]of Object.entries(Q)){if(typeof F==="function")continue;if(!F||typeof F!=="object"){W[K]=F;continue}if(!Z.includes(Q[K])){W[K]=i1({from:Q[K],seen:Z.slice(),forceEnumerable:z});continue}W[K]="[Circular]"}for(let{property:K,enumerable:F}of vz)if(typeof Q[K]==="string")Object.defineProperty(W,K,{value:Q[K],enumerable:z?!0:F,configurable:!0,writable:!0});return W},hz=(Q)=>{if(typeof Q==="object"&&Q!==null)return i1({from:Q,seen:[],forceEnumerable:!0});if(typeof Q==="function")return`[Function: ${Q.name||"anonymous"}]`;return Q},kz=(Q)=>{if(Q instanceof Error)return Q;if(typeof Q==="object"&&Q!==null&&!Array.isArray(Q)){const Z=new Error;return i1({from:Q,seen:[],to_:Z}),Z}return new r0(Q)};JQ.exports={serializeError:hz,deserializeError:kz}});var o0=$((FQ)=>{var fz=function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(FQ,"__esModule",{value:!0});FQ.default=void 0;var WQ=zQ(),bz=w0(),dz=fz(V0()),h=dz.default.child({namespace:"Agent"}),uz=0;class KQ{constructor(Q,Z,J,z,W){this.fallbackAgent=z,this.isProxyConfigured=Q,this.mustUrlUseProxy=Z,this.getUrlProxy=J,this.socketConnectionTimeout=W}addRequest(Q,Z){let J;if(Q.path.startsWith("http://")||Q.path.startsWith("https://"))J=Q.path;else J=this.protocol+"//"+(Z.hostname||Z.host)+(Z.port===80||Z.port===443?"":":"+Z.port)+Q.path;if(!this.isProxyConfigured()){h.trace({destination:J},"not proxying request; GLOBAL_AGENT.HTTP_PROXY is not configured"),this.fallbackAgent.addRequest(Q,Z);return}if(!this.mustUrlUseProxy(J)){h.trace({destination:J},"not proxying request; url matches GLOBAL_AGENT.NO_PROXY"),this.fallbackAgent.addRequest(Q,Z);return}const z=uz++,W=this.getUrlProxy(J);if(this.protocol==="http:"){if(Q.path=J,W.authorization)Q.setHeader("proxy-authorization","Basic "+Buffer.from(W.authorization).toString("base64"))}h.trace({destination:J,proxy:"http://"+W.hostname+":"+W.port,requestId:z},"proxying request"),Q.on("error",(F)=>{h.error({error:WQ.serializeError(F)},"request error")}),Q.once("response",(F)=>{h.trace({headers:F.headers,requestId:z,statusCode:F.statusCode},"proxying response")}),Q.shouldKeepAlive=!1;const K={host:Z.hostname||Z.host,port:Z.port||80,proxy:W,tls:{}};if(this.protocol==="https:"){if(K.tls={ca:Z.ca,cert:Z.cert,ciphers:Z.ciphers,clientCertEngine:Z.clientCertEngine,crl:Z.crl,dhparam:Z.dhparam,ecdhCurve:Z.ecdhCurve,honorCipherOrder:Z.honorCipherOrder,key:Z.key,passphrase:Z.passphrase,pfx:Z.pfx,rejectUnauthorized:Z.rejectUnauthorized,secureOptions:Z.secureOptions,secureProtocol:Z.secureProtocol,servername:Z.servername||K.host,sessionIdContext:Z.sessionIdContext},typeof process.env.NODE_TLS_REJECT_UNAUTHORIZED==="string"&&bz.boolean(process.env.NODE_TLS_REJECT_UNAUTHORIZED)===!1)K.tls.rejectUnauthorized=!1}this.createConnection(K,(F,X)=>{if(h.trace({target:K},"connecting"),X)X.setTimeout(this.socketConnectionTimeout,()=>{X.destroy()}),X.once("connect",()=>{h.trace({target:K},"connected"),X.setTimeout(0)}),X.once("secureConnect",()=>{h.trace({target:K},"connected (secure)"),X.setTimeout(0)});if(F)Q.emit("error",F);else h.debug("created socket"),X.on("error",(Y)=>{h.error({error:WQ.serializeError(Y)},"socket error")}),Q.onSocket(X)})}}var gz=KQ;FQ.default=gz});var VQ=$(($Q)=>{var XQ=function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty($Q,"__esModule",{value:!0});$Q.default=void 0;var mz=XQ(import.meta.require("net")),cz=XQ(o0());class YQ extends cz.default{constructor(...Q){super(...Q);this.protocol="http:",this.defaultPort=80}createConnection(Q,Z){const J=mz.default.connect(Q.proxy.port,Q.proxy.hostname);Z(null,J)}}var pz=YQ;$Q.default=pz});var IQ=$((UQ)=>{var n1=function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(UQ,"__esModule",{value:!0});UQ.default=void 0;var lz=n1(import.meta.require("net")),iz=n1(import.meta.require("tls")),nz=n1(o0());class GQ extends nz.default{constructor(...Q){super(...Q);this.protocol="https:",this.defaultPort=443}createConnection(Q,Z){const J=lz.default.connect(Q.proxy.port,Q.proxy.hostname);J.on("error",(W)=>{Z(W)}),J.once("data",()=>{const W=iz.default.connect({...Q.tls,socket:J});Z(null,W)});let z="";if(z+="CONNECT "+Q.host+":"+Q.port+" HTTP/1.1\r\n",z+="Host: "+Q.host+":"+Q.port+"\r\n",Q.proxy.authorization)z+="Proxy-Authorization: Basic "+Buffer.from(Q.proxy.authorization).toString("base64")+"\r\n";z+="\r\n",J.write(z)}}var sz=GQ;UQ.default=sz});var qQ=$((A0)=>{var s1=function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(A0,"__esModule",{value:!0});Object.defineProperty(A0,"Agent",{enumerable:!0,get:function(){return az.default}});Object.defineProperty(A0,"HttpProxyAgent",{enumerable:!0,get:function(){return tz.default}});Object.defineProperty(A0,"HttpsProxyAgent",{enumerable:!0,get:function(){return rz.default}});var az=s1(o0()),tz=s1(VQ()),rz=s1(IQ())});var LQ=$((a1,DQ)=>{var oz=function(Q,Z){if(!(Q instanceof Z))throw new TypeError("Cannot call a class as a function")},NQ=function(Q,Z){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z==="object"||typeof Z==="function")?Z:Q},ez=function(Q,Z){if(typeof Z!=="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);if(Q.prototype=Object.create(Z&&Z.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),Z)Object.setPrototypeOf?Object.setPrototypeOf(Q,Z):Q.__proto__=Z},Q2=function(Q){function Z(){Q.apply(this,arguments)}if(Z.prototype=Object.create(Q.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf)Object.setPrototypeOf(Z,Q);else Z.__proto__=Q;return Z};Object.defineProperty(a1,"__esModule",{value:!0});var Z2=function(Q){ez(Z,Q);function Z(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";oz(this,Z);var z=NQ(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,J));if(Object.defineProperty(z,"message",{configurable:!0,enumerable:!1,value:J,writable:!0}),Object.defineProperty(z,"name",{configurable:!0,enumerable:!1,value:z.constructor.name,writable:!0}),Error.hasOwnProperty("captureStackTrace"))return Error.captureStackTrace(z,z.constructor),NQ(z);return Object.defineProperty(z,"stack",{configurable:!0,enumerable:!1,value:new Error(J).stack,writable:!0}),z}return Z}(Q2(Error));a1.default=Z2;DQ.exports=a1.default});var e0=$((RQ)=>{var W2=function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(RQ,"__esModule",{value:!0});RQ.UnexpectedStateError=void 0;var z2=W2(LQ());class PQ extends z2.default{constructor(Q,Z="UNEXPECTED_STATE_ERROR"){super(Q);this.code=Z}}RQ.UnexpectedStateError=PQ});var CQ=$((MQ)=>{var TQ=function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(MQ,"__esModule",{value:!0});MQ.default=void 0;var K2=TQ(import.meta.require("http")),F2=TQ(import.meta.require("https")),B2=(Q,Z,J)=>{return(...z)=>{let W,K,F;if(typeof z[0]==="string"||z[0]instanceof URL)if(W=z[0],typeof z[1]==="function")K={},F=z[1];else K={...z[1]},F=z[2];else K={...z[0]},F=z[1];if(J)K.agent=Z;else{if(!K.agent)K.agent=Z;if(K.agent===K2.default.globalAgent||K.agent===F2.default.globalAgent)K.agent=Z}if(W)return Q(W,K,F);else return Q(K,F)}},X2=B2;MQ.default=X2});var SQ=$((iW,wQ)=>{wQ.exports=(Q)=>{if(typeof Q!=="string")throw new TypeError("Expected a string");return Q.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}});var jQ=$((nW,r1)=>{var xQ=function(Q,Z){Z={caseSensitive:!1,...Z};const J=Q+JSON.stringify(Z);if(t1.has(J))return t1.get(J);const z=Q[0]==="!";if(z)Q=Q.slice(1);Q=Y2(Q).replace(/\\\*/g,"[\\s\\S]*");const W=new RegExp(`^${Q}\$`,Z.caseSensitive?"":"i");return W.negated=z,t1.set(J,W),W},Y2=SQ(),t1=new Map;r1.exports=(Q,Z,J)=>{if(!(Array.isArray(Q)&&Array.isArray(Z)))throw new TypeError(`Expected two arrays, got ${typeof Q} ${typeof Z}`);if(Z.length===0)return Q;const z=Z[0][0]==="!";Z=Z.map((K)=>xQ(K,J));const W=[];for(let K of Q){let F=z;for(let X of Z)if(X.test(K))F=!X.negated;if(F)W.push(K)}return W};r1.exports.isMatch=(Q,Z,J)=>{const z=Array.isArray(Q)?Q:[Q],W=Array.isArray(Z)?Z:[Z];return z.some((K)=>{return W.every((F)=>{const X=xQ(F,J),Y=X.test(K);return X.negated?!Y:Y})})}});var hQ=$((_Q)=>{var V2=function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(_Q,"__esModule",{value:!0});_Q.default=void 0;var $2=import.meta.require("url"),H2=V2(jQ()),yQ=e0(),G2=(Q,Z)=>{const J=$2.parse(Q),z=Z.split(/[\s,]+/);for(let W of z){const K=W.replace(/^(?<leadingDot>\.)/,"*").match(/^(?<hostname>.+?)(?::(?<port>\d+))?$/);if(!K||!K.groups)throw new yQ.UnexpectedStateError("Invalid NO_PROXY pattern.");if(!K.groups.hostname)throw new yQ.UnexpectedStateError("NO_PROXY entry pattern must include hostname. Use * to match any hostname.");if(H2.default.isMatch(J.hostname,K.groups.hostname)&&(!K.groups||!K.groups.port||J.port&&J.port===K.groups.port))return!0}return!1},U2=G2;_Q.default=U2});var dQ=$((kQ)=>{Object.defineProperty(kQ,"__esModule",{value:!0});kQ.default=void 0;var O2=import.meta.require("url"),o1=e0(),I2=(Q)=>{const Z=O2.parse(Q);if(Z.query!==null)throw new o1.UnexpectedStateError("Unsupported `GLOBAL_AGENT.HTTP_PROXY` configuration value: URL must not have query.");if(Z.hash!==null)throw new o1.UnexpectedStateError("Unsupported `GLOBAL_AGENT.HTTP_PROXY` configuration value: URL must not have hash.");if(Z.protocol!=="http:")throw new o1.UnexpectedStateError('Unsupported `GLOBAL_AGENT.HTTP_PROXY` configuration value: URL protocol must be "http:".');let J=80;if(Z.port)J=Number.parseInt(Z.port,10);return{authorization:Z.auth||null,hostname:Z.hostname,port:J}},q2=I2;kQ.default=q2});var fQ=$((T0)=>{var e1=function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(T0,"__esModule",{value:!0});Object.defineProperty(T0,"bindHttpMethod",{enumerable:!0,get:function(){return N2.default}});Object.defineProperty(T0,"isUrlMatchingNoProxy",{enumerable:!0,get:function(){return D2.default}});Object.defineProperty(T0,"parseProxyUrl",{enumerable:!0,get:function(){return L2.default}});var N2=e1(CQ()),D2=e1(hQ()),L2=e1(dQ())});var Q4=$((uQ)=>{var R2=function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(uQ,"__esModule",{value:!0});uQ.default=void 0;var P2=R2(V0()),A2=P2.default.child({namespace:"createProxyController"}),T2=["HTTP_PROXY","HTTPS_PROXY","NO_PROXY"],M2=()=>{return new Proxy({HTTP_PROXY:null,HTTPS_PROXY:null,NO_PROXY:null},{set:(Q,Z,J)=>{if(!T2.includes(Z))throw new Error('Cannot set an unmapped property "'+Z+'".');return Q[Z]=J,A2.info({change:{name:Z,value:J},newConfiguration:Q},"configuration changed"),!0}})},E2=M2;uQ.default=E2});var sQ=$((iQ)=>{var M0=function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(iQ,"__esModule",{value:!0});iQ.default=void 0;var W0=M0(import.meta.require("http")),K0=M0(import.meta.require("https")),C2=w0(),mQ=M0(ZQ()),w2=M0(V0()),cQ=qQ(),S2=e0(),z0=fQ(),x2=M0(Q4()),j2=W0.default.get,y2=W0.default.request,_2=K0.default.get,v2=K0.default.request,pQ=w2.default.child({namespace:"createGlobalProxyAgent"}),lQ={environmentVariableNamespace:void 0,forceGlobalAgent:void 0,socketConnectionTimeout:60000},h2=(Q)=>{const Z=Object.keys(Q),J={};for(let z of Z){const W=Q[z];if(W!==void 0)J[z]=W}return J},k2=(Q)=>{const Z=process.env;return{...{environmentVariableNamespace:typeof Z.GLOBAL_AGENT_ENVIRONMENT_VARIABLE_NAMESPACE==="string"?Z.GLOBAL_AGENT_ENVIRONMENT_VARIABLE_NAMESPACE:"GLOBAL_AGENT_",forceGlobalAgent:typeof Z.GLOBAL_AGENT_FORCE_GLOBAL_AGENT==="string"?C2.boolean(Z.GLOBAL_AGENT_FORCE_GLOBAL_AGENT):!0,socketConnectionTimeout:typeof Z.GLOBAL_AGENT_SOCKET_CONNECTION_TIMEOUT==="string"?Number.parseInt(Z.GLOBAL_AGENT_SOCKET_CONNECTION_TIMEOUT,10):lQ.socketConnectionTimeout},...h2(Q)}},b2=(Q=lQ)=>{const Z=k2(Q),J=x2.default();J.HTTP_PROXY=process.env[Z.environmentVariableNamespace+"HTTP_PROXY"]||null,J.HTTPS_PROXY=process.env[Z.environmentVariableNamespace+"HTTPS_PROXY"]||null,J.NO_PROXY=process.env[Z.environmentVariableNamespace+"NO_PROXY"]||null,pQ.info({configuration:Z,state:J},"global agent has been initialized");const z=(I)=>{return(O)=>{if(!I())return!1;if(!J.NO_PROXY)return!0;return!z0.isUrlMatchingNoProxy(O,J.NO_PROXY)}},W=(I)=>{return()=>{const O=I();if(!O)throw new S2.UnexpectedStateError("HTTP(S) proxy must be configured.");return z0.parseProxyUrl(O)}},K=()=>{return J.HTTP_PROXY},X=new class extends cQ.HttpProxyAgent{constructor(){super(()=>{return K()},z(K),W(K),W0.default.globalAgent,Z.socketConnectionTimeout)}},Y=()=>{return J.HTTPS_PROXY||J.HTTP_PROXY},B=new class extends cQ.HttpsProxyAgent{constructor(){super(()=>{return Y()},z(Y),W(Y),K0.default.globalAgent,Z.socketConnectionTimeout)}};if(mQ.default.gte(process.version,"v11.7.0"))W0.default.globalAgent=X,K0.default.globalAgent=B;if(mQ.default.gte(process.version,"v10.0.0"))W0.default.get=z0.bindHttpMethod(j2,X,Z.forceGlobalAgent),W0.default.request=z0.bindHttpMethod(y2,X,Z.forceGlobalAgent),K0.default.get=z0.bindHttpMethod(_2,B,Z.forceGlobalAgent),K0.default.request=z0.bindHttpMethod(v2,B,Z.forceGlobalAgent);else pQ.warn("attempt to initialize global-agent in unsupported Node.js version was ignored");return J},d2=b2;iQ.default=d2});var Z4=$((Q1)=>{var aQ=function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(Q1,"__esModule",{value:!0});Object.defineProperty(Q1,"createGlobalProxyAgent",{enumerable:!0,get:function(){return f2.default}});Object.defineProperty(Q1,"createProxyController",{enumerable:!0,get:function(){return u2.default}});var f2=aQ(sQ()),u2=aQ(Q4())});var oQ=$((tQ)=>{var c2=function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(tQ,"__esModule",{value:!0});tQ.default=void 0;var g2=c2(V0()),m2=Z4(),p2=g2.default.child({namespace:"bootstrap"}),l2=(Q)=>{if(global.GLOBAL_AGENT)return p2.warn("found global.GLOBAL_AGENT; second attempt to bootstrap global-agent was ignored"),!1;return global.GLOBAL_AGENT=m2.createGlobalProxyAgent(Q),!0},i2=l2;tQ.default=i2});var eQ=$((J4)=>{var s2=function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(J4,"__esModule",{value:!0});Object.defineProperty(J4,"bootstrap",{enumerable:!0,get:function(){return n2.default}});var n2=s2(oQ())});var QZ=$((Z1)=>{Object.defineProperty(Z1,"__esModule",{value:!0});Object.defineProperty(Z1,"bootstrap",{enumerable:!0,get:function(){return a2.bootstrap}});Object.defineProperty(Z1,"createGlobalProxyAgent",{enumerable:!0,get:function(){return t2.createGlobalProxyAgent}});var a2=eQ(),t2=Z4()});var JZ=$(()=>{console.log("Testing setup.cjs");var r2=QZ(),ZZ=requuire("undici"),o2=ZZ.ProxyAgent,e2=ZZ.setGlobalDispatcher;r2.bootstrap();e2(new o2(process.env.GLOBAL_AGENT_HTTP_PROXY))});var zZ=$((BK,Q3)=>{Q3.exports={name:"reverse-proxy",version:"0.0.1",bin:{wafer:"dist/cli.js"},scripts:{build:"bun run ./scripts/build.ts"},dependencies:{hono:"^3.12.8"},devDependencies:{"@types/bun":"latest"}}});import{spawn as Z3} from"child_process";var z4=process.argv.slice(2),J3=import.meta.require.resolve("/Users/mhamlin/dev/personal/hono-reverse-proxy/workspaces/reverse-proxy/setup.cjs");switch(z4[0]){case"run":{console.log("Starting wafer dev...");let Q=Z3(z4[1],z4.slice(2),{cwd:process.cwd(),stdio:["inherit","inherit","inherit"],env:{...process.env,NODE_OPTIONS:`--require ${J3}`,GLOBAL_AGENT_HTTP_PROXY:"http://127.0.0.1:42069",WAFER_DEV:"true"}});console.log({val:Q});break}case"version":{console.log(`wafer - v${zZ().version}`);break}default:throw new Error("Ran wafer without a command")}
